<app-header></app-header>
<!--  Begin One Way Function  -->
<section *ngIf="roundType=='one-way'" class="ftco-section" style="padding: 0;">
  <div class="container pd-t118">
    <div class="row">
      <div class="col-sm-3 col-md-3  menu-filter-pc">
        <div class="card">
          <h5 class="filter-left">Filter</h5>
          <hr class="m-0 mb-2">
          <h6 class="filter-left">Airlines</h6>
          <div *ngFor="let allu of airLineListUnique | unique;" class="custom-control custom-checkbox">
            <input [(ngModel)]="allu.checked" [value]="allu.value" class="custom-control-input"
                   id="checkbox-{{allu.value}}"
                   name="airlines" type="checkbox">
            <label class="custom-control-label pointer text-secondary"
                   for="checkbox-{{allu.value}}">{{allu.value}}</label>
          </div>
          <hr class="m-0 mb-2 mt-3">
          <h6 class="filter-left">Transit</h6>
          <div *ngFor="let tlu of transitListUnique | unique" class="custom-control custom-checkbox">
            <input [(ngModel)]="tlu.checked" [value]="tlu.value" class="custom-control-input" id="transit-{{tlu.value}}"
                   name="Transit" type="checkbox">
            <label *ngIf="tlu.value == 1" class="custom-control-label pointer text-secondary"
                   for="transit-{{tlu.value}}">Direct</label>
            <label *ngIf="tlu.value != 1" class="custom-control-label pointer text-secondary"
                   for="transit-{{tlu.value}}">{{tlu.value - 1}}
              Transit</label>
          </div>
        </div>
        <br>
      </div>
      <br>
      <div class="col-sm-9 col-md-9">
        <div class="mb-3 p-2 rounded border-bottom">
          <div class="row">
            <div class="col-12 flex-sortby">
              <ng-container
                *ngIf="dataFlightSearch | searchFligthFilter: { stops: ''} : checkedTransit() : { airline: ''} : checkedAirline() : sortByWhat as result;">
                <span class="result-sortby">{{result?.length}} results</span>
              </ng-container>
              <div class="flex-center-sortby">
                <label class="main-sortby">Sort by</label>
                <select (change)="sortingSearchResult($event.target.value)" [(ngModel)]="sortByWhat"
                        class="selectpicker input-sortby">
                  <option value="0">Cheapest</option>
                  <option value="1">Fastest</option>
                </select>
              </div>
            </div>
          </div>
        </div>
        <progress-bar *ngIf="hideProgressBar == false" [color]="'#07969a'" [progress]="progressPercent"></progress-bar>
        <section *ngIf="loadingPage" class="centered-loader text-center" style="background: white">
          <div class="centered-loader">
            <img src="./assets/images/loader.gif">
            <div class="theme-loading-body">
              <h2 class="theme-loading-title">Just a moment</h2>
              <p class="theme-loading-subtitle">We are looking for flights </p>
            </div>
          </div>
        </section>
        <section *ngIf="!loadingPage">
          <div
            *ngFor="let dataflight of dataFlightSearch | searchFligthFilter: { stops: ''} : checkedTransit() : { airline: ''} : checkedAirline() : sortByWhat as result; let i = index"
            class="card card-ticket">
            <div class="row">
              <div class="col-md-10 text-center">
                <div class="row">
                  <div class="col-md-2 mb-3">
                    <div class="flight-section-airline-logo-wrap">
                      <img *ngIf="dataflight.transData[0].platingCarrier == 'ID'"
                           class="img-fluid img-circle airline-logo"
                           src="./assets/images/airlinelogo/{{dataflight.transData[0].platingCarrier}}.png">
                      <img *ngIf="dataflight.transData[0].platingCarrier != 'ID'"
                           class="img-fluid img-circle airline-logo"
                           src="https://s1.travix.com/global/assets/airlineLogos/{{dataflight.transData[0].platingCarrier}}.png">
                    </div>
                  </div>
                  <ng-container *ngIf="dataflight.stop == 1">
                    <div class="col-md-10">
                      <div class="row">
                        <div class="col-md-3">
                          <p
                            class="title-ticket">{{dataflight.transData[0].departureTime | amParseZone | amDateFormat:'HH:mm' }}</p>
                          <p class="destination-title">
                            {{dataflight.transData[0].origin_city_name}}</p>
                          <p
                            class="destination-date">{{dataflight.transData[0].departureTime | amParseZone | amDateFormat:'MMM DD, YYYY'}}</p>
                        </div>

                        <div class="col-md-6 text-center">
                          <div class="flight-section-path">
                            <div class="flight-section-fly-time">
                              <p>{{dataflight.transData[0].flightTime | minuteToHour}}</p>
                            </div>
                            <div class="flight-section-path-line"></div>
                            <div>
                              <div class="flight-section-path-line-start">
                                <i class="fa fa-plane plane-departure flight-section-path-icon"></i>
                                <div class="flight-section-path-line-dot"></div>
                                <div class="flight-section-path-line-title">
                                  {{dataflight.transData[0].origin}}
                                </div>
                              </div>

                              <div class="flight-section-path-line-middle">
                                <i class="fa fa-plane flight-section-path-icon"></i>
                                <div class="flight-section-path-line-dot"
                                     style="visibility: hidden"></div>
                                <div class="flight-section-path-line-title">Direct</div>
                              </div>

                              <div>
                                <div class="flight-section-path-line-end">
                                  <i class="fa fa-plane plane-destination flight-section-path-icon"></i>
                                  <div class="flight-section-path-line-dot"></div>
                                  <div class="flight-section-path-line-title">
                                    {{dataflight.transData[0].destination}}
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>

                        <div class="col-md-3">
                          <p
                            class="title-ticket">{{dataflight.transData[0].arrivalTime | amParseZone | amDateFormat:'HH:mm' }}</p>
                          <p class="destination-title">
                            {{dataflight.transData[0].destination_city_name}}</p>
                          <p
                            class="destination-date">{{dataflight.transData[0].arrivalTime | amParseZone | amDateFormat:'MMM DD, YYYY'}}</p>
                        </div>
                      </div>
                    </div>
                  </ng-container>

                  <ng-container *ngIf="dataflight.stop == 2">
                    <div class="col-md-10">
                      <div class="row">
                        <div class="col-md-3">
                          <p
                            class="title-ticket">{{dataflight.transData[0].departureTime | amParseZone | amDateFormat:'HH:mm' }}</p>
                          <p class="destination-title">
                            {{dataflight.transData[0].origin_city_name}}</p>
                          <p
                            class="destination-date">{{dataflight.transData[0].departureTime | amParseZone | amDateFormat:'MMM DD, YYYY'}}</p>
                        </div>

                        <div class="col-md-6 text-center">
                          <div class="flight-section-path">
                            <div class="flight-section-fly-time">
                              <p>{{(dataflight.transData[0].flightTime +
                                dataflight.transData[1].flightTime) | minuteToHour}},
                                {{(dataflight.stop) - 1}} Transit</p>
                            </div>
                            <div class="flight-section-path-line"></div>
                            <div>
                              <div class="flight-section-path-line-start">
                                <i class="fa fa-plane plane-departure flight-section-path-icon"></i>
                                <div class="flight-section-path-line-dot"></div>
                                <div class="flight-section-path-line-title">
                                  {{dataflight.transData[0].origin}}
                                </div>
                              </div>

                              <div class="flight-section-path-line-middle">
                                <i class="fa fa-plane flight-section-path-icon"></i>
                                <div class="flight-section-path-line-dot"></div>
                                <div class="flight-section-path-line-title">
                                  {{dataflight.transData[0].destination}}
                                </div>
                              </div>

                              <div>
                                <div class="flight-section-path-line-end">
                                  <i class="fa fa-plane plane-destination flight-section-path-icon"></i>
                                  <div class="flight-section-path-line-dot"></div>
                                  <div class="flight-section-path-line-title">
                                    {{dataflight.transData[1].destination}}
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>

                        <div class="col-md-3">
                          <p
                            class="title-ticket">{{dataflight.transData[1].arrivalTime | amParseZone | amDateFormat:'HH:mm' }}</p>
                          <p class="destination-title">
                            {{dataflight.transData[1].destination_city_name}}</p>
                          <p
                            class="destination-date">{{dataflight.transData[1].arrivalTime | amParseZone | amDateFormat:'MMM DD, YYYY'}}</p>
                        </div>
                      </div>
                    </div>
                  </ng-container>

                  <ng-container *ngIf="dataflight.stop == 3">
                    <div class="col-md-10">
                      <div class="row">
                        <div class="col-md-3">
                          <p
                            class="title-ticket">{{dataflight.transData[0].departureTime | amParseZone | amDateFormat:'HH:mm' }}</p>
                          <p class="destination-title">
                            {{dataflight.transData[0].origin_city_name}}</p>
                          <p
                            class="destination-date">{{dataflight.transData[0].departureTime | amParseZone | amDateFormat:'MMM DD, YYYY'}}</p>
                        </div>

                        <div class="col-md-6 text-center">
                          <div class="flight-section-path">
                            <div class="flight-section-fly-time">
                              <p>{{(dataflight.transData[0].flightTime +
                                dataflight.transData[1].flightTime) | minuteToHour}},
                                {{(dataflight.stop) - 1}} Transit</p>
                            </div>
                            <div class="flight-section-path-line"></div>
                            <div>
                              <div class="flight-section-path-line-start">
                                <i class="fa fa-plane plane-departure flight-section-path-icon"></i>
                                <div class="flight-section-path-line-dot"></div>
                                <div class="flight-section-path-line-title">
                                  {{dataflight.transData[0].origin}}
                                </div>
                              </div>

                              <div class="flight-section-path-line-middle-1">
                                <i class="fa fa-plane flight-section-path-icon"></i>
                                <div class="flight-section-path-line-dot"></div>
                                <div class="flight-section-path-line-title">
                                  {{dataflight.transData[1].origin}}
                                </div>
                              </div>

                              <div class="flight-section-path-line-middle-2">
                                <i class="fa fa-plane flight-section-path-icon"></i>
                                <div class="flight-section-path-line-dot"></div>
                                <div class="flight-section-path-line-title">
                                  {{dataflight.transData[1].destination}}
                                </div>
                              </div>

                              <div>
                                <div class="flight-section-path-line-end">
                                  <i class="fa fa-plane plane-destination flight-section-path-icon"></i>
                                  <div class="flight-section-path-line-dot"></div>
                                  <div class="flight-section-path-line-title">
                                    {{dataflight.transData[2].destination}}
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>

                        <div class="col-md-3">
                          <p
                            class="title-ticket">{{dataflight.transData[1].arrivalTime | amParseZone | amDateFormat:'HH:mm' }}</p>
                          <p class="destination-title">
                            {{dataflight.transData[1].destination_city_name}}</p>
                          <p
                            class="destination-date">{{dataflight.transData[1].arrivalTime | amParseZone | amDateFormat:'MMM DD, YYYY'}}</p>
                        </div>
                      </div>
                    </div>
                  </ng-container>

                </div>
                <!--              <div class="row mt-3">
                              <div class="col-md-6 col-xs-12">
                                <div class="title-maskapai">
                                  {{dataflight.transData[0].platingCarrierName}}
                                  <span>{{dataflight.transData[0].flightNumber}}</span>
                                </div>
                              </div>
                            </div>-->

              </div>
              <div class="col-md-2 text-center">
                <p class="text-price"><strong>{{dataflight.totalPrice |
                  currency:'IDR ':'symbol':'3.0'}}</strong><!--<small class="d-block mb-3">per person</small>--></p>
                <button (click)="navigateToBooking(sessionID, dataflight)"
                        class="btn btn-warning btn-block rounded button-search-flight-ticket">Select <i
                  class="fas fa-arrow-right"></i></button>
              </div>
            </div>

            <hr class="mb-0" style="border-color: #f5f7fa!important;">
            <div class="row mt-3" style="text-align: left">
              <ng-container *ngIf="dataflight.supplier == 'babylon'; else elseFlightDetails">
                <div (click)="flightDetailsAllCollapsed([i], dataflight.supplier, dataflight.babylonID, dataflight.babylonIndex); flightDetailsCollapsed[i] = !flightDetailsCollapsed[i]"
                     [attr.aria-expanded]="!flightDetailsCollapsed"
                     class="col-md-2 col-sm-2 col-xs-2">
                  Flight Details
                </div>
              </ng-container>
              <ng-template #elseFlightDetails>
                <div (click)="flightDetailsAllCollapsed([i], dataflight.supplier, '', ''); flightDetailsCollapsed[i] = !flightDetailsCollapsed[i]"
                     [attr.aria-expanded]="!flightDetailsCollapsed"
                     class="col-md-2 col-sm-2 col-xs-2">
                  Flight Details
                </div>
              </ng-template>

              <div (click)="priceDetailsAllCollapsed([i]); priceDetailsCollapsed[i] = !priceDetailsCollapsed[i]"
                   [attr.aria-expanded]="!priceDetailsCollapsed"
                   class="col-md-2 col-sm-2 col-xs-2">
                Price Details
              </div>
            </div>

            <div [ngbCollapse]="!flightDetailsCollapsed[i]" class="card mt-2" style="background: #f2f8ff;">
              <div class="col-md-12">
                <div *ngFor="let dataflightTrans of dataflight.transData; let segmentIndex = index;" class="row mb-3"
                     style="margin-top: 25px">
                  <div class="col-md-2 mb-3">
                    <div class="flight-section-airline-logo-wrap">
                      <img *ngIf="dataflight.transData[0].platingCarrier == 'ID'"
                           class="img-fluid img-circle airline-logo"
                           src="./assets/images/airlinelogo/{{dataflight.transData[0].platingCarrier}}.png">
                      <img *ngIf="dataflight.transData[0].platingCarrier != 'ID'"
                           class="img-fluid img-circle airline-logo"
                           src="https://s1.travix.com/global/assets/airlineLogos/{{dataflight.transData[0].platingCarrier}}.png">
                    </div>
                  </div>
                  <div class="col-md-10">
                    <div class="row">
                      <div class="col-md-6">
                        <ul class="flight-details-schedule-list">
                          <li>
                            <i class="fa fa-plane flight-details-schedule-icon"></i>
                            <p class="flight-details-schedule-date">
                              {{dataflightTrans.arrivalTime | amParseZone | amDateFormat:'MMM DD, YYYY' }}</p>
                            <div class="flight-details-schedule-time">
                              {{dataflightTrans.departureTime | amParseZone | amDateFormat:'HH:mm' }} -
                              {{dataflightTrans.arrivalTime | amParseZone | amDateFormat:'HH:mm' }}
                              ({{dataflightTrans.flightTime | minuteToHour}})
                            </div>
                            <div class="flight-details-schedule-destination">
                              <div style="float: left; max-width: 40%">
                                <p style="font-weight: bold; margin-bottom: 0">
                                  {{dataflightTrans.origin}}
                                </p>
                                <p class="flight-details-schedule-destination-city">
                                  {{dataflightTrans.origin_airport_name}}
                                </p>
                              </div>
                              <div style="float: left; margin: 0 10px">
                                <span>→</span>
                              </div>
                              <div style="float: left; max-width: 40%">
                                <p style="font-weight: bold; margin-bottom: 0">
                                  {{dataflightTrans.destination}}
                                </p>
                                <p class="flight-details-schedule-destination-city">
                                  {{dataflightTrans.destination_airport_name}}
                                </p>
                              </div>
                            </div>
                          </li>
                        </ul>
                      </div>
                      <div class="col-md-6">
                        <ul class="flight-details-feature-list" style="font-size: 0.9rem">
                          <li>
                            <span>Airplane</span> :
                            <span
                              style="color: #8F8F8F">{{dataflightTrans.platingCarrierName}}
                              {{dataflightTrans.platingCarrier}}-{{dataflightTrans.flightNumber}}
                            </span>
                          </li>
                          <li *ngIf="dataflightTrans.codeShareInfo.length != 0">
                            <span>Operated By</span> :
                            <span style="color: #8F8F8F;">
                              {{dataflightTrans.codeShareInfo.operatingCarrierName}}
                              {{dataflightTrans.codeShareInfo.operatingCarrier + '-' + dataflightTrans.codeShareInfo.operatingFlightNumber}}
                            </span>
                          </li>
                          <li>
                            <span>Cabin Class</span> : <span
                            style="color: #8F8F8F">{{dataflightTrans.cabinClass}}</span>
                          </li>
                          <ng-container *ngIf="dataflight.supplier=='travelport1g'">
                            <ng-container *ngIf="dataflightTrans.baggageData?.length >= 1">
                              <li *ngFor="let baggageDatas of dataflightTrans.baggageData">
                                <ng-container *ngIf="baggageDatas.passengerCode == 'ADT'">
                                  <span>Adult Baggage</span> : <span
                                  style="color: #8F8F8F">{{baggageDatas.baggage}} {{baggageDatas.baggageUnit}}</span>
                                </ng-container>
                                <ng-container
                                  *ngIf="baggageDatas.passengerCode == 'CHD' || baggageDatas.passengerCode == 'CNN'">
                                  <span>Child Baggage</span> : <span
                                  style="color: #8F8F8F">{{baggageDatas.baggage}} {{baggageDatas.baggageUnit}}</span>
                                </ng-container>
                                <ng-container *ngIf="baggageDatas.passengerCode == 'INF'">
                                  <span>Infant Baggage</span> : <span
                                  style="color: #8F8F8F">{{baggageDatas.baggage}} {{baggageDatas.baggageUnit}}</span>
                                </ng-container>
                              </li>
                            </ng-container>
                            <ng-container *ngIf="dataflightTrans.baggageData?.length == 0 && dataflight.supplier=='travelport1g'">
                              <span>Baggage </span> : <span style="color: #8F8F8F">Not Include</span>
                            </ng-container>
                          </ng-container>

                          <ng-container *ngIf="dataflight.supplier=='babylon' && babylonBaggageDate != ''">
                            <ng-container *ngFor="let bb of babylonBaggageDate; let bbIndex = index">
                              <ng-container *ngIf="bbIndex == segmentIndex">
                                <li *ngFor="let baggageDatas of bb.baggageData">
                                <ng-container *ngIf="baggageDatas.passengerCode == 'ADT'">
                                  <span>Adult Baggage</span> : <span
                                  style="color: #8F8F8F">{{baggageDatas.baggage}}</span>
                                </ng-container>
                                <ng-container
                                  *ngIf="baggageDatas.passengerCode == 'CHD' || baggageDatas.passengerCode == 'CNN'">
                                  <span>Child Baggage</span> : <span
                                  style="color: #8F8F8F">{{baggageDatas.baggage}}</span>
                                </ng-container>
                                <ng-container *ngIf="baggageDatas.passengerCode == 'INF'">
                                  <span>Infant Baggage</span> : <span
                                  style="color: #8F8F8F">{{baggageDatas.baggage}}</span>
                                </ng-container>
                              </li>
                              </ng-container>
                            </ng-container>

                            <!--                            <ng-container *ngIf="babylonBaggageDate[0]?.length == 0">-->
                            <!--                              <span>Baggage </span> : <span style="color: #8F8F8F">Not Include</span>-->
                            <!--                            </ng-container>-->
                          </ng-container>
                        </ul>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div [ngbCollapse]="!priceDetailsCollapsed[i]">
              <div class="card mt-2" style="background: #f2f8ff;">
                <div class="col-md-12">
                  <div class="row mb-3" style="margin-top: 25px">
                    <div class="col-md-12">
                      <div class="row">
                        <div class="col-md-4">
                          <span *ngIf="dataflight.Refundable == true">Refundable</span>
                        </div>
                        <div class="col-md-8">
                          <div>
                            <ng-container *ngIf="dataflight.numPassenger?.length > 1">
                              <div *ngFor="let dataflightTrans of dataflight.numPassenger">
                                <ng-container *ngIf="dataflightTrans.passengerCode == 'ADT'">
                                  {{dataflightTrans.numPassenger}}X Adult Basic Price
                                  <span
                                    style="float: right; font-weight: bold">{{dataflightTrans.amount | currency:'IDR ':'symbol':'3.0'}}</span>
                                </ng-container>
                                <ng-container
                                  *ngIf="dataflightTrans.passengerCode == 'CHD' || dataflightTrans.passengerCode == 'CNN'">
                                  {{dataflightTrans.numPassenger}}X Child Basic Price
                                  <span
                                    style="float: right; font-weight: bold">{{dataflightTrans.amount | currency:'IDR ':'symbol':'3.0'}}</span>
                                </ng-container>
                                <ng-container *ngIf="dataflightTrans.passengerCode == 'INF'">
                                  {{dataflightTrans.numPassenger}}X Infant Basic Price
                                  <span
                                    style="float: right; font-weight: bold">{{dataflightTrans.amount | currency:'IDR ':'symbol':'3.0'}}</span>
                                </ng-container>
                              </div>
                            </ng-container>

                            <ng-container *ngIf="dataflight.numPassenger?.length == undefined">
                              <div *ngIf="dataflight.numPassenger as dataflightTrans">
                                <ng-container *ngIf="dataflightTrans.passengerCode == 'ADT'">
                                  {{dataflightTrans.numPassenger}}X Adult Basic Price
                                  <span
                                    style="float: right; font-weight: bold">{{dataflightTrans.amount | currency:'IDR ':'symbol':'3.0'}}</span>
                                </ng-container>
                                <ng-container
                                  *ngIf="dataflightTrans.passengerCode == 'CHD' || dataflightTrans.passengerCode == 'CNN'">
                                  {{dataflightTrans.numPassenger}}X Child Basic Price
                                  <span
                                    style="float: right; font-weight: bold">{{dataflightTrans.amount | currency:'IDR ':'symbol':'3.0'}}</span>
                                </ng-container>
                                <ng-container *ngIf="dataflightTrans.passengerCode == 'INF'">
                                  {{dataflightTrans.numPassenger}}X Infant Basic Price
                                  <span
                                    style="float: right; font-weight: bold">{{dataflightTrans.amount | currency:'IDR ':'symbol':'3.0'}}</span>
                                </ng-container>
                              </div>
                            </ng-container>

                            <div>
                              Tax
                              <span
                                style="float: right; font-weight: bold">{{dataflight.taxes | currency:'IDR ':'symbol':'3.0'}}</span>
                            </div>

                            <div style="height: 1px; background: #dedede; margin: 8px 0;"></div>

                            <div>
                              Total price
                              <span
                                style="float: right; font-weight: bold">{{dataflight.totalPrice | currency:'IDR ':'symbol':'3.0'}}</span>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </section>
      </div>
    </div>
  </div>
</section>

<!--  Begin Round Trip Function  -->

<section *ngIf="roundType=='round-trip' && !phase" class="ftco-section" style="padding: 0;">
  <div class="container pd-t118">
    <div class="row">
      <div class="col-sm-3 col-md-3  menu-filter-pc">
        <div class="card">
          <h5 class="filter-left">Filter</h5>
          <hr class="m-0 mb-2">
          <h6 class="filter-left">Airlines</h6>
          <div *ngFor="let allu of airLineListUnique | unique;" class="custom-control custom-checkbox">
            <input [(ngModel)]="allu.checked" [value]="allu.value" class="custom-control-input"
                   id="checkbox-{{allu.value}}"
                   name="airlines" type="checkbox">
            <label class="custom-control-label pointer text-secondary"
                   for="checkbox-{{allu.value}}">{{allu.value}}</label>
          </div>
          <hr class="m-0 mb-2 mt-3">
          <h6 class="filter-left">Transit</h6>
          <div *ngFor="let tlu of transitListUnique | unique" class="custom-control custom-checkbox">
            <input [(ngModel)]="tlu.checked" [value]="tlu.value" class="custom-control-input" id="transit-{{tlu.value}}"
                   name="Transit" type="checkbox">
            <label *ngIf="tlu.value == 1" class="custom-control-label pointer text-secondary"
                   for="transit-{{tlu.value}}">Direct</label>
            <label *ngIf="tlu.value != 1" class="custom-control-label pointer text-secondary"
                   for="transit-{{tlu.value}}">{{tlu.value - 1}}
              Transit</label>
          </div>
        </div>
        <br>

      </div>
      <br>

      <div class="col-sm-9 col-md-9">
        <div class="alert alert-warning">
          <p class="mb-0 text-center">Pilih pesawat untuk keberangkatan</p>
        </div>
        <div class="mb-3 p-2 rounded border-bottom">
          <div class="row">
            <div class="col-12 flex-sortby">
              <ng-container
                *ngIf="dataFlightSearch | searchFligthFilter: { stops: ''} : checkedTransit() : { airline: ''} : checkedAirline() : sortByWhat as result;">
                <span class="result-sortby">{{result?.length}} results</span>
              </ng-container>
              <div class="flex-center-sortby">
                <label class="main-sortby">Sort by</label>
                <select (change)="sortingSearchResult($event.target.value)" [(ngModel)]="sortByWhat"
                        class="selectpicker input-sortby">
                  <option value="0">Cheapest</option>
                  <option value="1">Fastest</option>
                </select>
              </div>
            </div>
          </div>
        </div>
        <progress-bar *ngIf="hideProgressBar == false" [color]="'#07969a'" [progress]="progressPercent"></progress-bar>
        <section *ngIf="loadingPage" class="centered-loader text-center" style="background: white">
          <div class="centered-loader">
            <img src="./assets/images/loader.gif">
            <div class="theme-loading-body">
              <h2 class="theme-loading-title">Just a moment</h2>
              <p class="theme-loading-subtitle">We are looking for flights </p>
            </div>
          </div>
        </section>
        <section *ngIf="!loadingPage">
          <div
          *ngFor="let dataflight of dataFlightSearch | searchFligthFilter: { stops: ''} : checkedTransit() : { airline: ''} : checkedAirline() : sortByWhat as result; let i = index"
          class="card card-ticket">
          <div class="row">
            <div (click)="flightDetailsAllCollapsed([i]); flightDetailsCollapsed[i] = !flightDetailsCollapsed[i]"
                 [attr.aria-expanded]="!flightDetailsCollapsed"
                 class="col-md-10 text-center">
              <div class="row">
                <div class="col-md-2 mb-3">
                  <div class="flight-section-airline-logo-wrap">
                    <img *ngIf="dataflight.transData[0].platingCarrier == 'ID'"
                         class="img-fluid img-circle airline-logo"
                         src="./assets/images/airlinelogo/{{dataflight.transData[0].platingCarrier}}.png">
                    <img *ngIf="dataflight.transData[0].platingCarrier != 'ID'"
                      class="img-fluid img-circle airline-logo"
                      src="https://s1.travix.com/global/assets/airlineLogos/{{dataflight.transData[0].platingCarrier}}.png">
                  </div>
                </div>
                <ng-container *ngIf="dataflight.stop == 1">
                  <div class="col-md-10">
                    <div class="row">
                      <div class="col-md-3">
                        <p
                          class="title-ticket">{{dataflight.transData[0].departureTime | amParseZone | amDateFormat:'HH:mm' }}</p>
                        <p class="destination-title">
                          {{dataflight.transData[0].origin_city_name}}</p>
                        <p
                          class="destination-date">{{dataflight.transData[0].departureTime | amParseZone | amDateFormat:'MMM DD, YYYY'}}</p>
                      </div>

                      <div class="col-md-6 text-center">
                        <div class="flight-section-path">
                          <div class="flight-section-fly-time">
                            <p>{{dataflight.transData[0].flightTime | minuteToHour}}</p>
                          </div>
                          <div class="flight-section-path-line"></div>
                          <div>
                            <div class="flight-section-path-line-start">
                              <i class="fa fa-plane plane-departure flight-section-path-icon"></i>
                              <div class="flight-section-path-line-dot"></div>
                              <div class="flight-section-path-line-title">
                                {{dataflight.transData[0].origin}}
                              </div>
                            </div>

                            <div class="flight-section-path-line-middle">
                              <i class="fa fa-plane flight-section-path-icon"></i>
                              <div class="flight-section-path-line-dot"
                                   style="visibility: hidden"></div>
                              <div class="flight-section-path-line-title">Direct</div>
                            </div>

                            <div>
                              <div class="flight-section-path-line-end">
                                <i class="fa fa-plane plane-destination flight-section-path-icon"></i>
                                <div class="flight-section-path-line-dot"></div>
                                <div class="flight-section-path-line-title">
                                  {{dataflight.transData[0].destination}}
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>

                      <div class="col-md-3">
                        <p
                          class="title-ticket">{{dataflight.transData[0].arrivalTime | amParseZone | amDateFormat:'HH:mm' }}</p>
                        <p class="destination-title">
                          {{dataflight.transData[0].destination_city_name}}</p>
                        <p
                          class="destination-date">{{dataflight.transData[0].arrivalTime | amParseZone | amDateFormat:'MMM DD, YYYY'}}</p>
                      </div>
                    </div>
                  </div>
                </ng-container>

                <ng-container *ngIf="dataflight.stop == 2">
                  <div class="col-md-10">
                    <div class="row">
                      <div class="col-md-3">
                        <p
                          class="title-ticket">{{dataflight.transData[0].departureTime | amParseZone | amDateFormat:'HH:mm' }}</p>
                        <p class="destination-title">
                          {{dataflight.transData[0].origin_city_name}}</p>
                        <p
                          class="destination-date">{{dataflight.transData[0].departureTime | amParseZone | amDateFormat:'MMM DD, YYYY'}}</p>
                      </div>

                      <div class="col-md-6 text-center">
                        <div class="flight-section-path">
                          <div class="flight-section-fly-time">
                            <p>{{(dataflight.transData[0].flightTime +
                              dataflight.transData[1].flightTime) | minuteToHour}},
                              {{(dataflight.stop) - 1}} Transit</p>
                          </div>
                          <div class="flight-section-path-line"></div>
                          <div>
                            <div class="flight-section-path-line-start">
                              <i class="fa fa-plane plane-departure flight-section-path-icon"></i>
                              <div class="flight-section-path-line-dot"></div>
                              <div class="flight-section-path-line-title">
                                {{dataflight.transData[0].origin}}
                              </div>
                            </div>

                            <div class="flight-section-path-line-middle">
                              <i class="fa fa-plane flight-section-path-icon"></i>
                              <div class="flight-section-path-line-dot"></div>
                              <div class="flight-section-path-line-title">
                                {{dataflight.transData[0].destination}}
                              </div>
                            </div>

                            <div>
                              <div class="flight-section-path-line-end">
                                <i class="fa fa-plane plane-destination flight-section-path-icon"></i>
                                <div class="flight-section-path-line-dot"></div>
                                <div class="flight-section-path-line-title">
                                  {{dataflight.transData[1].destination}}
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>

                      <div class="col-md-3">
                        <p
                          class="title-ticket">{{dataflight.transData[1].arrivalTime | amParseZone | amDateFormat:'HH:mm' }}</p>
                        <p class="destination-title">
                          {{dataflight.transData[1].destination_city_name}}</p>
                        <p
                          class="destination-date">{{dataflight.transData[1].arrivalTime | amParseZone | amDateFormat:'MMM DD, YYYY'}}</p>
                      </div>
                    </div>
                  </div>
                </ng-container>

                <ng-container *ngIf="dataflight.stop == 3">
                  <div class="col-md-10">
                    <div class="row">
                      <div class="col-md-3">
                        <p
                          class="title-ticket">{{dataflight.transData[0].departureTime | amParseZone | amDateFormat:'HH:mm' }}</p>
                        <p class="destination-title">
                          {{dataflight.transData[0].origin_city_name}}</p>
                        <p
                          class="destination-date">{{dataflight.transData[0].departureTime | amParseZone | amDateFormat:'MMM DD, YYYY'}}</p>
                      </div>

                      <div class="col-md-6 text-center">
                        <div class="flight-section-path">
                          <div class="flight-section-fly-time">
                            <p>{{(dataflight.transData[0].flightTime +
                              dataflight.transData[1].flightTime) | minuteToHour}},
                              {{(dataflight.stop) - 1}} Transit</p>
                          </div>
                          <div class="flight-section-path-line"></div>
                          <div>
                            <div class="flight-section-path-line-start">
                              <i class="fa fa-plane plane-departure flight-section-path-icon"></i>
                              <div class="flight-section-path-line-dot"></div>
                              <div class="flight-section-path-line-title">
                                {{dataflight.transData[0].origin}}
                              </div>
                            </div>

                            <div class="flight-section-path-line-middle-1">
                              <i class="fa fa-plane flight-section-path-icon"></i>
                              <div class="flight-section-path-line-dot"></div>
                              <div class="flight-section-path-line-title">
                                {{dataflight.transData[1].origin}}
                              </div>
                            </div>

                            <div class="flight-section-path-line-middle-2">
                              <i class="fa fa-plane flight-section-path-icon"></i>
                              <div class="flight-section-path-line-dot"></div>
                              <div class="flight-section-path-line-title">
                                {{dataflight.transData[1].destination}}
                              </div>
                            </div>

                            <div>
                              <div class="flight-section-path-line-end">
                                <i class="fa fa-plane plane-destination flight-section-path-icon"></i>
                                <div class="flight-section-path-line-dot"></div>
                                <div class="flight-section-path-line-title">
                                  {{dataflight.transData[2].destination}}
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>

                      <div class="col-md-3">
                        <p
                          class="title-ticket">{{dataflight.transData[1].arrivalTime | amParseZone | amDateFormat:'HH:mm' }}</p>
                        <p class="destination-title">
                          {{dataflight.transData[1].destination_city_name}}</p>
                        <p
                          class="destination-date">{{dataflight.transData[1].arrivalTime | amParseZone | amDateFormat:'MMM DD, YYYY'}}</p>
                      </div>
                    </div>
                  </div>
                </ng-container>

              </div>
              <!--              <div class="row mt-3">
                            <div class="col-md-6 col-xs-12">
                              <div class="title-maskapai">
                                {{dataflight.transData[0].platingCarrierName}}
                                <span>{{dataflight.transData[0].flightNumber}}</span>
                              </div>
                            </div>
                          </div>-->

            </div>
            <div class="col-md-2 text-center">
              <p class="text-price"><strong>{{dataflight.totalPrice |
                currency:'IDR ':'symbol':'3.0'}}</strong><!--<small class="d-block mb-3">per person</small>--></p>
              <button (click)="returnShow(dataflight)"
                      class="btn btn-warning btn-block rounded button-search-flight-ticket">Select <i
                class="fas fa-arrow-right"></i></button>
            </div>
          </div>

          <hr class="mb-0" style="border-color: #f5f7fa!important;">
          <div class="row mt-3" style="text-align: left">
            <div (click)="flightDetailsAllCollapsed([i]); flightDetailsCollapsed[i] = !flightDetailsCollapsed[i]"
                 [attr.aria-expanded]="!flightDetailsCollapsed"
                 class="col-md-2 col-sm-2 col-xs-2">
              Flight Details
            </div>
            <div (click)="priceDetailsAllCollapsed([i]); priceDetailsCollapsed[i] = !priceDetailsCollapsed[i]"
                 [attr.aria-expanded]="!priceDetailsCollapsed"
                 class="col-md-2 col-sm-2 col-xs-2">
              Price Details
            </div>
          </div>

          <div [ngbCollapse]="!flightDetailsCollapsed[i]" class="card mt-2" style="background: #f2f8ff;">
            <div class="col-md-12">
              <div *ngFor="let dataflightTrans of dataflight.transData" class="row mb-3"
                   style="margin-top: 25px">
                <div class="col-md-2 mb-3">
                  <div class="flight-section-airline-logo-wrap">
                    <img *ngIf="dataflight.transData[0].platingCarrier == 'ID'"
                         class="img-fluid img-circle airline-logo"
                         src="./assets/images/airlinelogo/{{dataflight.transData[0].platingCarrier}}.png">
                    <img *ngIf="dataflight.transData[0].platingCarrier != 'ID'"
                         class="img-fluid img-circle airline-logo"
                         src="https://s1.travix.com/global/assets/airlineLogos/{{dataflight.transData[0].platingCarrier}}.png">
                  </div>
                </div>
                <div class="col-md-10">
                  <div class="row">
                    <div class="col-md-6">
                      <ul class="flight-details-schedule-list">
                        <li>
                          <i class="fa fa-plane flight-details-schedule-icon"></i>
                          <p class="flight-details-schedule-date">
                            {{dataflightTrans.arrivalTime | amParseZone | amDateFormat:'MMM dd, YYYY' }}</p>
                          <div class="flight-details-schedule-time">
                            {{dataflightTrans.departureTime | amParseZone | amDateFormat:'HH:mm' }} -
                            {{dataflightTrans.arrivalTime | amParseZone | amDateFormat:'HH:mm' }}
                            ({{dataflightTrans.flightTime | minuteToHour}})
                          </div>
                          <div class="flight-details-schedule-destination">
                            <div style="float: left; max-width: 40%">
                              <p style="font-weight: bold; margin-bottom: 0">
                                {{dataflightTrans.origin}}
                              </p>
                              <p class="flight-details-schedule-destination-city">
                                {{dataflightTrans.origin_airport_name}}</p>
                            </div>
                            <div style="float: left; margin: 0 10px">
                              <span>→</span>
                            </div>
                            <div style="float: left; max-width: 40%">
                              <p style="font-weight: bold; margin-bottom: 0">
                                {{dataflightTrans.destination}}
                              </p>
                              <p class="flight-details-schedule-destination-city">
                                {{dataflightTrans.destination_airport_name}}</p>
                            </div>
                          </div>
                        </li>
                      </ul>
                    </div>
                    <div class="col-md-6">
                      <ul class="flight-details-feature-list" style="font-size: 0.9rem">
                        <li>
                          <span>Airplane</span> :
                          <span
                            style="color: #8F8F8F">{{dataflightTrans.platingCarrierName}}
                            {{dataflightTrans.platingCarrier}}-{{dataflightTrans.flightNumber}}</span>
                        </li>
                        <li *ngIf="dataflightTrans.codeShareInfo.length != 0">
                          <span>Operated By</span> :
                          <span style="color: #8F8F8F;">
                            {{dataflightTrans.codeShareInfo.operatingCarrierName}}
                            {{dataflightTrans.codeShareInfo.operatingCarrier + '-' + dataflightTrans.codeShareInfo.operatingFlightNumber}}
                          </span>
                        </li>
                        <li>
                          <span>Cabin Class</span> : <span
                          style="color: #8F8F8F">{{dataflightTrans.cabinClass}}</span>
                        </li>
                        <ng-container *ngIf="dataflightTrans.baggageData?.length >= 1">
                          <li *ngFor="let baggageDatas of dataflightTrans.baggageData">
                            <ng-container *ngIf="baggageDatas.passengerCode == 'ADT'">
                              <span>Adult Baggage</span> : <span
                              style="color: #8F8F8F">{{baggageDatas.baggage}} {{baggageDatas.baggageUnit}}</span>
                            </ng-container>
                            <ng-container
                              *ngIf="baggageDatas.passengerCode == 'CHD' || baggageDatas.passengerCode == 'CNN'">
                              <span>Child Baggage</span> : <span
                              style="color: #8F8F8F">{{baggageDatas.baggage}} {{baggageDatas.baggageUnit}}</span>
                            </ng-container>
                            <ng-container *ngIf="baggageDatas.passengerCode == 'INF'">
                              <span>Infant Baggage</span> : <span
                              style="color: #8F8F8F">{{baggageDatas.baggage}} {{baggageDatas.baggageUnit}}</span>
                            </ng-container>
                          </li>
                        </ng-container>
                        <ng-container *ngIf="dataflightTrans.baggageData?.length == 0">
                          <span>Baggage </span> : <span style="color: #8F8F8F">Not Include</span>
                        </ng-container>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div [ngbCollapse]="!priceDetailsCollapsed[i]">
            <div class="card mt-2" style="background: #f2f8ff;">
              <div class="col-md-12">
                <div class="row mb-3" style="margin-top: 25px">
                  <div class="col-md-12">
                    <div class="row">
                      <div class="col-md-4">
                        <span *ngIf="dataflight.Refundable == true">Refundable</span>
                      </div>
                      <div class="col-md-8">
                        <div>
                          <ng-container *ngIf="dataflight.numPassenger?.length > 1">
                            <div *ngFor="let dataflightTrans of dataflight.numPassenger">
                              <ng-container *ngIf="dataflightTrans.passengerCode == 'ADT'">
                                {{dataflightTrans.numPassenger}}X Adult Basic Price
                                <span
                                  style="float: right; font-weight: bold">{{dataflightTrans.amount | currency:'IDR ':'symbol':'3.0'}}</span>
                              </ng-container>
                              <ng-container
                                *ngIf="dataflightTrans.passengerCode == 'CHD' || dataflightTrans.passengerCode == 'CNN'">
                                {{dataflightTrans.numPassenger}}X Child Basic Price
                                <span
                                  style="float: right; font-weight: bold">{{dataflightTrans.amount | currency:'IDR ':'symbol':'3.0'}}</span>
                              </ng-container>
                              <ng-container *ngIf="dataflightTrans.passengerCode == 'INF'">
                                {{dataflightTrans.numPassenger}}X Infant Basic Price
                                <span
                                  style="float: right; font-weight: bold">{{dataflightTrans.amount | currency:'IDR ':'symbol':'3.0'}}</span>
                              </ng-container>
                            </div>
                          </ng-container>

                          <ng-container *ngIf="dataflight.numPassenger?.length == undefined">
                            <div *ngIf="dataflight.numPassenger as dataflightTrans">
                              <ng-container *ngIf="dataflightTrans.passengerCode == 'ADT'">
                                {{dataflightTrans.numPassenger}}X Adult Basic Price
                                <span
                                  style="float: right; font-weight: bold">{{dataflightTrans.amount | currency:'IDR ':'symbol':'3.0'}}</span>
                              </ng-container>
                              <ng-container
                                *ngIf="dataflightTrans.passengerCode == 'CHD' || dataflightTrans.passengerCode == 'CNN'">
                                {{dataflightTrans.numPassenger}}X Child Basic Price
                                <span
                                  style="float: right; font-weight: bold">{{dataflightTrans.amount | currency:'IDR ':'symbol':'3.0'}}</span>
                              </ng-container>
                              <ng-container *ngIf="dataflightTrans.passengerCode == 'INF'">
                                {{dataflightTrans.numPassenger}}X Infant Basic Price
                                <span
                                  style="float: right; font-weight: bold">{{dataflightTrans.amount | currency:'IDR ':'symbol':'3.0'}}</span>
                              </ng-container>
                            </div>
                          </ng-container>

                          <div>
                            Tax
                            <span
                              style="float: right; font-weight: bold">{{dataflight.taxes | currency:'IDR ':'symbol':'3.0'}}</span>
                          </div>

                          <div style="height: 1px; background: #dedede; margin: 8px 0;"></div>

                          <div>
                            Total price
                            <span
                              style="float: right; font-weight: bold">{{dataflight.totalPrice | currency:'IDR ':'symbol':'3.0'}}</span>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        </section>
      </div>
    </div>
  </div>
</section>

<section *ngIf="!loadingPage && roundType=='round-trip' && phase" class="ftco-section"
         style="padding: 0;">
  <div class="col-sm-9 col-md-9 mb-3" style="margin: auto; float: none">
    <div
      *ngFor="let dataflight of dataFlightAdvanced"
      class="card card-ticket">
      <div class="row">
        <div (click)="returnPrevious(dataflight)"
             class="col-md-10 text-center">
          <div class="row">
            <div class="col-md-2 mb-3">
              <div class="flight-section-airline-logo-wrap">
                <img *ngIf="dataflight.transData[0].platingCarrier == 'ID'"
                     class="img-fluid img-circle airline-logo"
                     src="./assets/images/airlinelogo/{{dataflight.transData[0].platingCarrier}}.png">
                <img *ngIf="dataflight.transData[0].platingCarrier != 'ID'"
                     class="img-fluid img-circle airline-logo"
                     src="https://s1.travix.com/global/assets/airlineLogos/{{dataflight.transData[0].platingCarrier}}.png">
              </div>
            </div>
            <ng-container *ngIf="dataflight.stop == 1">
              <div class="col-md-10">
                <div class="row">
                  <div class="col-md-3">
                    <p
                      class="title-ticket">{{dataflight.transData[0].departureTime | amParseZone | amDateFormat:'HH:mm' }}</p>
                    <p class="destination-title">
                      {{dataflight.transData[0].origin_city_name}}</p>
                    <p
                      class="destination-date">{{dataflight.transData[0].departureTime | amParseZone | amDateFormat:'MMM DD, YYYY'}}</p>
                  </div>

                  <div class="col-md-6 text-center">
                    <div class="flight-section-path">
                      <div class="flight-section-fly-time">
                        <p>{{dataflight.transData[0].flightTime | minuteToHour}}</p>
                      </div>
                      <div class="flight-section-path-line"></div>
                      <div>
                        <div class="flight-section-path-line-start">
                          <i class="fa fa-plane flight-section-path-icon"></i>
                          <div class="flight-section-path-line-dot"></div>
                          <div class="flight-section-path-line-title">
                            {{dataflight.transData[0].origin}}
                          </div>
                        </div>

                        <div class="flight-section-path-line-middle">
                          <i class="fa fa-plane flight-section-path-icon"></i>
                          <div class="flight-section-path-line-dot"
                               style="visibility: hidden"></div>
                          <div class="flight-section-path-line-title">Direct</div>
                        </div>

                        <div>
                          <div class="flight-section-path-line-end">
                            <i class="fa fa-plane flight-section-path-icon"></i>
                            <div class="flight-section-path-line-dot"></div>
                            <div class="flight-section-path-line-title">
                              {{dataflight.transData[0].destination}}
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>

                  <div class="col-md-3">
                    <p
                      class="title-ticket">{{dataflight.transData[0].arrivalTime | amParseZone | amDateFormat:'HH:mm' }}</p>
                    <p class="destination-title">
                      {{dataflight.transData[0].destination_city_name}}</p>
                    <p
                      class="destination-date">{{dataflight.transData[0].arrivalTime | amParseZone | amDateFormat:'MMM DD, YYYY'}}</p>
                  </div>
                </div>
              </div>
            </ng-container>

            <ng-container *ngIf="dataflight.stop == 2">
              <div class="col-md-10">
                <div class="row">
                  <div class="col-md-3">
                    <p
                      class="title-ticket">{{dataflight.transData[0].departureTime | amParseZone | amDateFormat:'HH:mm' }}</p>
                    <p class="destination-title">
                      {{dataflight.transData[0].origin_city_name}}</p>
                    <p
                      class="destination-date">{{dataflight.transData[0].departureTime | amParseZone | amDateFormat:'MMM DD, YYYY'}}</p>
                  </div>

                  <div class="col-md-6 text-center">
                    <div class="flight-section-path">
                      <div class="flight-section-fly-time">
                        <p>{{(dataflight.transData[0].flightTime +
                          dataflight.transData[1].flightTime) | minuteToHour}},
                          {{(dataflight.stop) - 1}} Transit</p>
                      </div>
                      <div class="flight-section-path-line"></div>
                      <div>
                        <div class="flight-section-path-line-start">
                          <i class="fa fa-plane flight-section-path-icon"></i>
                          <div class="flight-section-path-line-dot"></div>
                          <div class="flight-section-path-line-title">
                            {{dataflight.transData[0].origin}}
                          </div>
                        </div>

                        <div class="flight-section-path-line-middle">
                          <i class="fa fa-plane flight-section-path-icon"></i>
                          <div class="flight-section-path-line-dot"></div>
                          <div class="flight-section-path-line-title">
                            {{dataflight.transData[0].destination}}
                          </div>
                        </div>

                        <div>
                          <div class="flight-section-path-line-end">
                            <i class="fa fa-plane flight-section-path-icon"></i>
                            <div class="flight-section-path-line-dot"></div>
                            <div class="flight-section-path-line-title">
                              {{dataflight.transData[1].destination}}
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>

                  <div class="col-md-3">
                    <p
                      class="title-ticket">{{dataflight.transData[1].arrivalTime | amParseZone | amDateFormat:'HH:mm' }}</p>
                    <p class="destination-title">
                      {{dataflight.transData[1].destination_city_name}}</p>
                    <p
                      class="destination-date">{{dataflight.transData[1].arrivalTime | amParseZone | amDateFormat:'MMM DD, YYYY'}}</p>
                  </div>
                </div>
              </div>
            </ng-container>

            <ng-container *ngIf="dataflight.stop == 3">
              <div class="col-md-10">
                <div class="row">
                  <div class="col-md-3">
                    <p
                      class="title-ticket">{{dataflight.transData[0].departureTime | amParseZone | amDateFormat:'HH:mm' }}</p>
                    <p class="destination-title">
                      {{dataflight.transData[0].origin_city_name}}</p>
                    <p
                      class="destination-date">{{dataflight.transData[0].departureTime | amParseZone | amDateFormat:'MMM DD, YYYY'}}</p>
                  </div>

                  <div class="col-md-6 text-center">
                    <div class="flight-section-path">
                      <div class="flight-section-fly-time">
                        <p>{{(dataflight.transData[0].flightTime +
                          dataflight.transData[1].flightTime) | minuteToHour}},
                          {{(dataflight.stop) - 1}} Transit</p>
                      </div>
                      <div class="flight-section-path-line"></div>
                      <div>
                        <div class="flight-section-path-line-start">
                          <i class="fa fa-plane flight-section-path-icon"></i>
                          <div class="flight-section-path-line-dot"></div>
                          <div class="flight-section-path-line-title">
                            {{dataflight.transData[0].origin}}
                          </div>
                        </div>

                        <div class="flight-section-path-line-middle-1">
                          <i class="fa fa-plane flight-section-path-icon"></i>
                          <div class="flight-section-path-line-dot"></div>
                          <div class="flight-section-path-line-title">
                            {{dataflight.transData[1].origin}}
                          </div>
                        </div>

                        <div class="flight-section-path-line-middle-2">
                          <i class="fa fa-plane flight-section-path-icon"></i>
                          <div class="flight-section-path-line-dot"></div>
                          <div class="flight-section-path-line-title">
                            {{dataflight.transData[1].destination}}
                          </div>
                        </div>

                        <div>
                          <div class="flight-section-path-line-end">
                            <i class="fa fa-plane flight-section-path-icon"></i>
                            <div class="flight-section-path-line-dot"></div>
                            <div class="flight-section-path-line-title">
                              {{dataflight.transData[2].destination}}
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>

                  <div class="col-md-3">
                    <p
                      class="title-ticket">{{dataflight.transData[1].arrivalTime | amParseZone | amDateFormat:'HH:mm' }}</p>
                    <p class="destination-title">
                      {{dataflight.transData[1].destination_city_name}}</p>
                    <p
                      class="destination-date">{{dataflight.transData[1].arrivalTime | amParseZone | amDateFormat:'MMM DD, YYYY'}}</p>
                  </div>
                </div>
              </div>
            </ng-container>

          </div>
          <div class="row mt-3">
            <div class="col-md-6 col-xs-12">
              <div class="title-maskapai">
                {{dataflight.transData[0].platingCarrierName}}
                <span>{{dataflight.transData[0].flightNumber}}</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="container">
    <div class="row">
      <div class="col-sm-3 col-md-3  menu-filter-pc">
        <div class="card">
          <h5 class="filter-left">Filter</h5>
          <hr class="m-0 mb-2">
          <h6 class="filter-left">Airlines</h6>
          <div *ngFor="let allu of airLineListUnique | unique;" class="custom-control custom-checkbox">
            <input [(ngModel)]="allu.checked" [value]="allu.value" class="custom-control-input"
                   id="checkbox-{{allu.value}}"
                   name="airlines" type="checkbox">
            <label class="custom-control-label pointer text-secondary"
                   for="checkbox-{{allu.value}}">{{allu.value}}</label>
          </div>
          <hr class="m-0 mb-2 mt-3">
          <h6 class="filter-left">Transit</h6>
          <div *ngFor="let tlu of transitListUnique | unique" class="custom-control custom-checkbox">
            <input [(ngModel)]="tlu.checked" [value]="tlu.value" class="custom-control-input" id="transit-{{tlu.value}}"
                   name="Transit" type="checkbox">
            <label *ngIf="tlu.value == 1" class="custom-control-label pointer text-secondary"
                   for="transit-{{tlu.value}}">Direct</label>
            <label *ngIf="tlu.value != 1" class="custom-control-label pointer text-secondary"
                   for="transit-{{tlu.value}}">{{tlu.value - 1}}
              Transit</label>
          </div>
        </div>
        <br>
      </div>
      <br>

      <div class="col-sm-9 col-md-9">
        <div class="alert alert-warning">
          <p class="mb-0 text-center">Pilih pesawat untuk kepulangan</p>
        </div>
        <div class="mb-3 p-2 rounded border-bottom">
          <div class="row">
            <div class="col-12 flex-sortby">
              <ng-container
                *ngIf="dataFlightSearch | searchFligthFilter: { stops: ''} : checkedTransit() : { airline: ''} : checkedAirline() : sortByWhat as result;">
                <span class="result-sortby">{{dataFlightAdvanced[0].return?.length}} results</span>
              </ng-container>
              <div class="flex-center-sortby">
                <label class="main-sortby">Sort by</label>
                <select (change)="sortingSearchResult($event.target.value)" [(ngModel)]="sortByWhat"
                        class="selectpicker input-sortby">
                  <option value="0">Cheapest</option>
                  <option value="1">Fastest</option>
                </select>
              </div>
            </div>
          </div>
        </div>
        <progress-bar *ngIf="hideProgressBar == false" [color]="'#07969a'" [progress]="progressPercent"></progress-bar>
        <section *ngIf="loadingPage" class="centered-loader text-center" style="background: white">
          <div class="centered-loader">
            <img src="./assets/images/loader.gif">
            <div class="theme-loading-body">
              <h2 class="theme-loading-title">Just a moment</h2>
              <p class="theme-loading-subtitle">We are looking for flights </p>
            </div>
          </div>
        </section>
        <section *ngIf="!loadingPage">
          <div
          *ngFor="let dataflight of dataFlightAdvanced[0].return | searchFligthFilter: { stops: ''} : checkedTransit() : { airline: ''} : checkedAirline() : sortByWhat as result; let i = index"
          class="card card-ticket">
          <div class="row">
            <div (click)="flightDetailsAllCollapsed([i]); flightDetailsCollapsed[i] = !flightDetailsCollapsed[i]"
                 [attr.aria-expanded]="!flightDetailsCollapsed"
                 class="col-md-10 text-center">
              <div class="row">
                <div class="col-md-2 mb-3">
                  <div class="flight-section-airline-logo-wrap">
                    <img *ngIf="dataflight.transData[0].platingCarrier == 'ID'"
                         class="img-fluid img-circle airline-logo"
                         src="./assets/images/airlinelogo/{{dataflight.transData[0].platingCarrier}}.png">
                    <img *ngIf="dataflight.transData[0].platingCarrier != 'ID'"
                         class="img-fluid img-circle airline-logo"
                         src="https://s1.travix.com/global/assets/airlineLogos/{{dataflight.transData[0].platingCarrier}}.png">
                  </div>
                </div>
                <ng-container *ngIf="dataflight.stop == 1">
                  <div class="col-md-10">
                    <div class="row">
                      <div class="col-md-3">
                        <p
                          class="title-ticket">{{dataflight.transData[0].departureTime | amParseZone | amDateFormat:'HH:mm' }}</p>
                        <p class="destination-title">
                          {{dataflight.transData[0].origin_city_name}}</p>
                        <p
                          class="destination-date">{{dataflight.transData[0].departureTime | amParseZone | amDateFormat:'MMM DD, YYYY'}}</p>
                      </div>

                      <div class="col-md-6 text-center">
                        <div class="flight-section-path">
                          <div class="flight-section-fly-time">
                            <p>{{dataflight.transData[0].flightTime | minuteToHour}}</p>
                          </div>
                          <div class="flight-section-path-line"></div>
                          <div>
                            <div class="flight-section-path-line-start">
                              <i class="fa fa-plane plane-departure flight-section-path-icon"></i>
                              <div class="flight-section-path-line-dot"></div>
                              <div class="flight-section-path-line-title">
                                {{dataflight.transData[0].origin}}
                              </div>
                            </div>

                            <div class="flight-section-path-line-middle">
                              <i class="fa fa-plane flight-section-path-icon"></i>
                              <div class="flight-section-path-line-dot"
                                   style="visibility: hidden"></div>
                              <div class="flight-section-path-line-title">Direct</div>
                            </div>

                            <div>
                              <div class="flight-section-path-line-end">
                                <i class="fa fa-plane plane-destination flight-section-path-icon"></i>
                                <div class="flight-section-path-line-dot"></div>
                                <div class="flight-section-path-line-title">
                                  {{dataflight.transData[0].destination}}
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>

                      <div class="col-md-3">
                        <p
                          class="title-ticket">{{dataflight.transData[0].arrivalTime | amParseZone | amDateFormat:'HH:mm' }}</p>
                        <p class="destination-title">
                          {{dataflight.transData[0].destination_city_name}}</p>
                        <p
                          class="destination-date">{{dataflight.transData[0].arrivalTime | amParseZone | amDateFormat:'MMM DD, YYYY'}}</p>
                      </div>
                    </div>
                  </div>
                </ng-container>

                <ng-container *ngIf="dataflight.stop == 2">
                  <div class="col-md-10">
                    <div class="row">
                      <div class="col-md-3">
                        <p
                          class="title-ticket">{{dataflight.transData[0].departureTime | amParseZone | amDateFormat:'HH:mm' }}</p>
                        <p class="destination-title">
                          {{dataflight.transData[0].origin_city_name}}</p>
                        <p
                          class="destination-date">{{dataflight.transData[0].departureTime | amParseZone | amDateFormat:'MMM DD, YYYY'}}</p>
                      </div>

                      <div class="col-md-6 text-center">
                        <div class="flight-section-path">
                          <div class="flight-section-fly-time">
                            <p>{{(dataflight.transData[0].flightTime +
                              dataflight.transData[1].flightTime) | minuteToHour}},
                              {{(dataflight.stop) - 1}} Transit</p>
                          </div>
                          <div class="flight-section-path-line"></div>
                          <div>
                            <div class="flight-section-path-line-start">
                              <i class="fa fa-plane plane-departure flight-section-path-icon"></i>
                              <div class="flight-section-path-line-dot"></div>
                              <div class="flight-section-path-line-title">
                                {{dataflight.transData[0].origin}}
                              </div>
                            </div>

                            <div class="flight-section-path-line-middle">
                              <i class="fa fa-plane flight-section-path-icon"></i>
                              <div class="flight-section-path-line-dot"></div>
                              <div class="flight-section-path-line-title">
                                {{dataflight.transData[0].destination}}
                              </div>
                            </div>

                            <div>
                              <div class="flight-section-path-line-end">
                                <i class="fa fa-plane plane-destination flight-section-path-icon"></i>
                                <div class="flight-section-path-line-dot"></div>
                                <div class="flight-section-path-line-title">
                                  {{dataflight.transData[1].destination}}
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>

                      <div class="col-md-3">
                        <p
                          class="title-ticket">{{dataflight.transData[1].arrivalTime | amParseZone | amDateFormat:'HH:mm' }}</p>
                        <p class="destination-title">
                          {{dataflight.transData[1].destination_city_name}}</p>
                        <p
                          class="destination-date">{{dataflight.transData[1].arrivalTime | amParseZone | amDateFormat:'MMM DD, YYYY'}}</p>
                      </div>
                    </div>
                  </div>
                </ng-container>

                <ng-container *ngIf="dataflight.stop == 3">
                  <div class="col-md-10">
                    <div class="row">
                      <div class="col-md-3">
                        <p
                          class="title-ticket">{{dataflight.transData[0].departureTime | amParseZone | amDateFormat:'HH:mm' }}</p>
                        <p class="destination-title">
                          {{dataflight.transData[0].origin_city_name}}</p>
                        <p
                          class="destination-date">{{dataflight.transData[0].departureTime | amParseZone | amDateFormat:'MMM DD, YYYY'}}</p>
                      </div>

                      <div class="col-md-6 text-center">
                        <div class="flight-section-path">
                          <div class="flight-section-fly-time">
                            <p>{{(dataflight.transData[0].flightTime +
                              dataflight.transData[1].flightTime) | minuteToHour}},
                              {{(dataflight.stop) - 1}} Transit</p>
                          </div>
                          <div class="flight-section-path-line"></div>
                          <div>
                            <div class="flight-section-path-line-start">
                              <i class="fa fa-plane plane-departure flight-section-path-icon"></i>
                              <div class="flight-section-path-line-dot"></div>
                              <div class="flight-section-path-line-title">
                                {{dataflight.transData[0].origin}}
                              </div>
                            </div>

                            <div class="flight-section-path-line-middle-1">
                              <i class="fa fa-plane flight-section-path-icon"></i>
                              <div class="flight-section-path-line-dot"></div>
                              <div class="flight-section-path-line-title">
                                {{dataflight.transData[1].origin}}
                              </div>
                            </div>

                            <div class="flight-section-path-line-middle-2">
                              <i class="fa fa-plane flight-section-path-icon"></i>
                              <div class="flight-section-path-line-dot"></div>
                              <div class="flight-section-path-line-title">
                                {{dataflight.transData[1].destination}}
                              </div>
                            </div>

                            <div>
                              <div class="flight-section-path-line-end">
                                <i class="fa fa-plane plane-destination flight-section-path-icon"></i>
                                <div class="flight-section-path-line-dot"></div>
                                <div class="flight-section-path-line-title">
                                  {{dataflight.transData[2].destination}}
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>

                      <div class="col-md-3">
                        <p
                          class="title-ticket">{{dataflight.transData[1].arrivalTime | amParseZone | amDateFormat:'HH:mm' }}</p>
                        <p class="destination-title">
                          {{dataflight.transData[1].destination_city_name}}</p>
                        <p
                          class="destination-date">{{dataflight.transData[1].arrivalTime | amParseZone | amDateFormat:'MMM DD, YYYY'}}</p>
                      </div>
                    </div>
                  </div>
                </ng-container>

              </div>
              <!--              <div class="row mt-3">
                            <div class="col-md-6 col-xs-12">
                              <div class="title-maskapai">
                                {{dataflight.transData[0].platingCarrierName}}
                                <span>{{dataflight.transData[0].flightNumber}}</span>
                              </div>
                            </div>
                          </div>-->

            </div>
            <div class="col-md-2 text-center">
              <button (click)="navigateToBooking(sessionID, dataflight)"
                      class="btn btn-warning btn-block rounded button-search-flight-ticket">Select <i
                class="fas fa-arrow-right"></i></button>
            </div>
          </div>

          <hr class="mb-0" style="border-color: #f5f7fa!important;">
          <div class="row mt-3" style="text-align: left">
            <div (click)="flightDetailsAllCollapsed([i]); flightDetailsCollapsed[i] = !flightDetailsCollapsed[i]"
                 [attr.aria-expanded]="!flightDetailsCollapsed"
                 class="col-md-2 col-sm-2 col-xs-2">
              Flight Details
            </div>
            <div (click)="priceDetailsAllCollapsed([i]); priceDetailsCollapsed[i] = !priceDetailsCollapsed[i]"
                 [attr.aria-expanded]="!priceDetailsCollapsed"
                 class="col-md-2 col-sm-2 col-xs-2">
              Price Details
            </div>
          </div>

          <div [ngbCollapse]="!flightDetailsCollapsed[i]" class="card mt-2" style="background: #f2f8ff;">
            <div class="col-md-12">
              <div *ngFor="let dataflightTrans of dataflight.transData" class="row mb-3"
                   style="margin-top: 25px">
                <div class="col-md-2 mb-3">
                  <div class="flight-section-airline-logo-wrap">
                    <img *ngIf="dataflight.transData[0].platingCarrier == 'ID'"
                         class="img-fluid img-circle airline-logo"
                         src="./assets/images/airlinelogo/{{dataflight.transData[0].platingCarrier}}.png">
                    <img *ngIf="dataflight.transData[0].platingCarrier != 'ID'"
                         class="img-fluid img-circle airline-logo"
                         src="https://s1.travix.com/global/assets/airlineLogos/{{dataflight.transData[0].platingCarrier}}.png">
                  </div>
                </div>
                <div class="col-md-10">
                  <div class="row">
                    <div class="col-md-6">
                      <ul class="flight-details-schedule-list">
                        <li>
                          <i class="fa fa-plane flight-details-schedule-icon"></i>
                          <p class="flight-details-schedule-date">
                            {{dataflightTrans.arrivalTime | amParseZone | amDateFormat:'MMM dd, YYYY' }}</p>
                          <div class="flight-details-schedule-time">
                            {{dataflightTrans.departureTime | amParseZone | amDateFormat:'HH:mm' }} -
                            {{dataflightTrans.arrivalTime | amParseZone | amDateFormat:'HH:mm' }}
                            ({{dataflightTrans.flightTime | minuteToHour}})
                          </div>
                          <div class="flight-details-schedule-destination">
                            <div style="float: left; max-width: 40%">
                              <p style="font-weight: bold; margin-bottom: 0">
                                {{dataflightTrans.origin}}
                              </p>
                              <p class="flight-details-schedule-destination-city">
                                {{dataflightTrans.origin_airport_name}}</p>
                            </div>
                            <div style="float: left; margin: 0 10px">
                              <span>→</span>
                            </div>
                            <div style="float: left; max-width: 40%">
                              <p style="font-weight: bold; margin-bottom: 0">
                                {{dataflightTrans.destination}}
                              </p>
                              <p class="flight-details-schedule-destination-city">
                                {{dataflightTrans.destination_airport_name}}</p>
                            </div>
                          </div>
                        </li>
                      </ul>
                    </div>
                    <div class="col-md-6">
                      <ul class="flight-details-feature-list" style="font-size: 0.9rem">
                        <li>
                          <span>Airplane</span> :
                          <span
                            style="color: #8F8F8F">{{dataflightTrans.platingCarrierName}}
                            {{dataflightTrans.platingCarrier}}-{{dataflightTrans.flightNumber}}</span>
                        </li>
                        <li *ngIf="dataflightTrans.codeShareInfo.length != 0">
                          <span>Operated By</span> :
                          <span style="color: #8F8F8F;">
                            {{dataflightTrans.codeShareInfo.operatingCarrierName}}
                            {{dataflightTrans.codeShareInfo.operatingCarrier + '-' + dataflightTrans.codeShareInfo.operatingFlightNumber}}
                          </span>
                        </li>
                        <li>
                          <span>Cabin Class</span> : <span
                          style="color: #8F8F8F">{{dataflightTrans.cabinClass}}</span>
                        </li>
                        <ng-container *ngIf="dataflightTrans.baggageData?.length >= 1">
                          <li *ngFor="let baggageDatas of dataflightTrans.baggageData">
                            <ng-container *ngIf="baggageDatas.passengerCode == 'ADT'">
                              <span>Adult Baggage</span> : <span
                              style="color: #8F8F8F">{{baggageDatas.baggage}} {{baggageDatas.baggageUnit}}</span>
                            </ng-container>
                            <ng-container
                              *ngIf="baggageDatas.passengerCode == 'CHD' || baggageDatas.passengerCode == 'CNN'">
                              <span>Child Baggage</span> : <span
                              style="color: #8F8F8F">{{baggageDatas.baggage}} {{baggageDatas.baggageUnit}}</span>
                            </ng-container>
                            <ng-container *ngIf="baggageDatas.passengerCode == 'INF'">
                              <span>Infant Baggage</span> : <span
                              style="color: #8F8F8F">{{baggageDatas.baggage}} {{baggageDatas.baggageUnit}}</span>
                            </ng-container>
                          </li>
                        </ng-container>
                        <ng-container *ngIf="dataflightTrans.baggageData?.length == 0">
                          <span>Baggage </span> : <span style="color: #8F8F8F">Not Include</span>
                        </ng-container>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div [ngbCollapse]="!priceDetailsCollapsed[i]">
            <div class="card mt-2" style="background: #f2f8ff;">
              <div class="col-md-12">
                <div class="row mb-3" style="margin-top: 25px">
                  <div class="col-md-12">
                    <div class="row">
                      <div class="col-md-4">
                        <span *ngIf="dataflight.Refundable == true">Refundable</span>
                      </div>
                      <div class="col-md-8">
                        <div>
                          <ng-container *ngIf="dataflight.numPassenger?.length > 1">
                            <div *ngFor="let dataflightTrans of dataflight.numPassenger">
                              <ng-container *ngIf="dataflightTrans.passengerCode == 'ADT'">
                                {{dataflightTrans.numPassenger}}X Adult Basic Price
                                <span
                                  style="float: right; font-weight: bold">{{dataflightTrans.amount | currency:'IDR ':'symbol':'3.0'}}</span>
                              </ng-container>
                              <ng-container
                                *ngIf="dataflightTrans.passengerCode == 'CHD' || dataflightTrans.passengerCode == 'CNN'">
                                {{dataflightTrans.numPassenger}}X Child Basic Price
                                <span
                                  style="float: right; font-weight: bold">{{dataflightTrans.amount | currency:'IDR ':'symbol':'3.0'}}</span>
                              </ng-container>
                              <ng-container *ngIf="dataflightTrans.passengerCode == 'INF'">
                                {{dataflightTrans.numPassenger}}X Infant Basic Price
                                <span
                                  style="float: right; font-weight: bold">{{dataflightTrans.amount | currency:'IDR ':'symbol':'3.0'}}</span>
                              </ng-container>
                            </div>
                          </ng-container>

                          <ng-container *ngIf="dataflight.numPassenger?.length == undefined">
                            <div *ngIf="dataflight.numPassenger as dataflightTrans">
                              <ng-container *ngIf="dataflightTrans.passengerCode == 'ADT'">
                                {{dataflightTrans.numPassenger}}X Adult Basic Price
                                <span
                                  style="float: right; font-weight: bold">{{dataflightTrans.amount | currency:'IDR ':'symbol':'3.0'}}</span>
                              </ng-container>
                              <ng-container
                                *ngIf="dataflightTrans.passengerCode == 'CHD' || dataflightTrans.passengerCode == 'CNN'">
                                {{dataflightTrans.numPassenger}}X Child Basic Price
                                <span
                                  style="float: right; font-weight: bold">{{dataflightTrans.amount | currency:'IDR ':'symbol':'3.0'}}</span>
                              </ng-container>
                              <ng-container *ngIf="dataflightTrans.passengerCode == 'INF'">
                                {{dataflightTrans.numPassenger}}X Infant Basic Price
                                <span
                                  style="float: right; font-weight: bold">{{dataflightTrans.amount | currency:'IDR ':'symbol':'3.0'}}</span>
                              </ng-container>
                            </div>
                          </ng-container>

                          <div>
                            Tax
                            <span
                              style="float: right; font-weight: bold">{{dataflight.taxes | currency:'IDR ':'symbol':'3.0'}}</span>
                          </div>

                          <div style="height: 1px; background: #dedede; margin: 8px 0;"></div>

                          <div>
                            Total price
                            <span
                              style="float: right; font-weight: bold">{{dataflight.totalPrice | currency:'IDR ':'symbol':'3.0'}}</span>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        </section>
      </div>
    </div>
  </div>
</section>

<!--  Begin Multi Trip Function  -->

<section *ngIf="!loadingPage && roundType=='multiple-trip'" class="ftco-section"
         style="padding: 0;">
  <ng-container *ngIf="multiplePhase <= dataMultiTripStep">
    <div class="col-sm-9 col-md-9 mb-3" style="margin: auto; float: none">
      <div *ngFor="let dataflight of dataFlightAdvanced"
           class="card card-ticket">
        <div class="row">
          <div (click)="returnPrevious(dataflight)"
               class="col-md-10 text-center">
            <div class="row">
              <div class="col-md-2 mb-3">
                <div class="flight-section-airline-logo-wrap">
                  <img *ngIf="dataflight.transData[0].platingCarrier == 'ID'"
                       class="img-fluid img-circle airline-logo"
                       src="./assets/images/airlinelogo/{{dataflight.transData[0].platingCarrier}}.png">
                  <img *ngIf="dataflight.transData[0].platingCarrier != 'ID'"
                       class="img-fluid img-circle airline-logo"
                       src="https://s1.travix.com/global/assets/airlineLogos/{{dataflight.transData[0].platingCarrier}}.png">
                </div>
              </div>
              <ng-container *ngIf="dataflight.stop == 1">
                <div class="col-md-10">
                  <div class="row">
                    <div class="col-md-3">
                      <p
                        class="title-ticket">{{dataflight.transData[0].departureTime | amParseZone | amDateFormat:'HH:mm' }}</p>
                      <p class="destination-title">
                        {{dataflight.transData[0].origin_city_name}}</p>
                      <p
                        class="destination-date">{{dataflight.transData[0].departureTime | amParseZone | amDateFormat:'MMM DD, YYYY'}}</p>
                    </div>

                    <div class="col-md-6 text-center">
                      <div class="flight-section-path">
                        <div class="flight-section-fly-time">
                          <p>{{dataflight.transData[0].flightTime | minuteToHour}}</p>
                        </div>
                        <div class="flight-section-path-line"></div>
                        <div>
                          <div class="flight-section-path-line-start">
                            <i class="fa fa-plane flight-section-path-icon"></i>
                            <div class="flight-section-path-line-dot"></div>
                            <div class="flight-section-path-line-title">
                              {{dataflight.transData[0].origin}}
                            </div>
                          </div>

                          <div class="flight-section-path-line-middle">
                            <i class="fa fa-plane flight-section-path-icon"></i>
                            <div class="flight-section-path-line-dot"
                                 style="visibility: hidden"></div>
                            <div class="flight-section-path-line-title">Direct</div>
                          </div>

                          <div>
                            <div class="flight-section-path-line-end">
                              <i class="fa fa-plane plane-destination flight-section-path-icon"></i>
                              <div class="flight-section-path-line-dot"></div>
                              <div class="flight-section-path-line-title">
                                {{dataflight.transData[0].destination}}
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>

                    <div class="col-md-3">
                      <p
                        class="title-ticket">{{dataflight.transData[0].arrivalTime | amParseZone | amDateFormat:'HH:mm' }}</p>
                      <p class="destination-title">
                        {{dataflight.transData[0].destination_city_name}}</p>
                      <p
                        class="destination-date">{{dataflight.transData[0].arrivalTime | amParseZone | amDateFormat:'MMM DD, YYYY'}}</p>
                    </div>
                  </div>
                </div>
              </ng-container>

              <ng-container *ngIf="dataflight.stop == 2">
                <div class="col-md-10">
                  <div class="row">
                    <div class="col-md-3">
                      <p
                        class="title-ticket">{{dataflight.transData[0].departureTime | amParseZone | amDateFormat:'HH:mm' }}</p>
                      <p class="destination-title">
                        {{dataflight.transData[0].origin_city_name}}</p>
                      <p
                        class="destination-date">{{dataflight.transData[0].departureTime | amParseZone | amDateFormat:'MMM DD, YYYY'}}</p>
                    </div>

                    <div class="col-md-6 text-center">
                      <div class="flight-section-path">
                        <div class="flight-section-fly-time">
                          <p>{{(dataflight.transData[0].flightTime +
                            dataflight.transData[1].flightTime) | minuteToHour}},
                            {{(dataflight.stop) - 1}} Transit</p>
                        </div>
                        <div class="flight-section-path-line"></div>
                        <div>
                          <div class="flight-section-path-line-start">
                            <i class="fa fa-plane flight-section-path-icon"></i>
                            <div class="flight-section-path-line-dot"></div>
                            <div class="flight-section-path-line-title">
                              {{dataflight.transData[0].origin}}
                            </div>
                          </div>

                          <div class="flight-section-path-line-middle">
                            <i class="fa fa-plane flight-section-path-icon"></i>
                            <div class="flight-section-path-line-dot"></div>
                            <div class="flight-section-path-line-title">
                              {{dataflight.transData[0].destination}}
                            </div>
                          </div>

                          <div>
                            <div class="flight-section-path-line-end">
                              <i class="fa fa-plane plane-destination flight-section-path-icon"></i>
                              <div class="flight-section-path-line-dot"></div>
                              <div class="flight-section-path-line-title">
                                {{dataflight.transData[1].destination}}
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>

                    <div class="col-md-3">
                      <p
                        class="title-ticket">{{dataflight.transData[1].arrivalTime | amParseZone | amDateFormat:'HH:mm' }}</p>
                      <p class="destination-title">
                        {{dataflight.transData[1].destination_city_name}}</p>
                      <p
                        class="destination-date">{{dataflight.transData[1].arrivalTime | amParseZone | amDateFormat:'MMM DD, YYYY'}}</p>
                    </div>
                  </div>
                </div>
              </ng-container>

              <ng-container *ngIf="dataflight.stop == 3">
                <div class="col-md-10">
                  <div class="row">
                    <div class="col-md-3">
                      <p
                        class="title-ticket">{{dataflight.transData[0].departureTime | amParseZone | amDateFormat:'HH:mm' }}</p>
                      <p class="destination-title">
                        {{dataflight.transData[0].origin_city_name}}</p>
                      <p
                        class="destination-date">{{dataflight.transData[0].departureTime | amParseZone | amDateFormat:'MMM DD, YYYY'}}</p>
                    </div>

                    <div class="col-md-6 text-center">
                      <div class="flight-section-path">
                        <div class="flight-section-fly-time">
                          <p>{{(dataflight.transData[0].flightTime +
                            dataflight.transData[1].flightTime) | minuteToHour}},
                            {{(dataflight.stop) - 1}} Transit</p>
                        </div>
                        <div class="flight-section-path-line"></div>
                        <div>
                          <div class="flight-section-path-line-start">
                            <i class="fa fa-plane flight-section-path-icon"></i>
                            <div class="flight-section-path-line-dot"></div>
                            <div class="flight-section-path-line-title">
                              {{dataflight.transData[0].origin}}
                            </div>
                          </div>

                          <div class="flight-section-path-line-middle-1">
                            <i class="fa fa-plane flight-section-path-icon"></i>
                            <div class="flight-section-path-line-dot"></div>
                            <div class="flight-section-path-line-title">
                              {{dataflight.transData[1].origin}}
                            </div>
                          </div>

                          <div class="flight-section-path-line-middle-2">
                            <i class="fa fa-plane flight-section-path-icon"></i>
                            <div class="flight-section-path-line-dot"></div>
                            <div class="flight-section-path-line-title">
                              {{dataflight.transData[1].destination}}
                            </div>
                          </div>

                          <div>
                            <div class="flight-section-path-line-end">
                              <i class="fa fa-plane plane-destination flight-section-path-icon"></i>
                              <div class="flight-section-path-line-dot"></div>
                              <div class="flight-section-path-line-title">
                                {{dataflight.transData[2].destination}}
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>

                    <div class="col-md-3">
                      <p
                        class="title-ticket">{{dataflight.transData[1].arrivalTime | amParseZone | amDateFormat:'HH:mm' }}</p>
                      <p class="destination-title">
                        {{dataflight.transData[1].destination_city_name}}</p>
                      <p
                        class="destination-date">{{dataflight.transData[1].arrivalTime | amParseZone | amDateFormat:'MMM DD, YYYY'}}</p>
                    </div>
                  </div>
                </div>
              </ng-container>

            </div>
            <div class="row mt-3">
              <div class="col-md-6 col-xs-12">
                <div class="title-maskapai">
                  {{dataflight.transData[0].platingCarrierName}}
                  <span>{{dataflight.transData[0].flightNumber}}</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="container pd-t118">
      <h4 align="center" class="col-sm-3 menu-filter-pc">Filter</h4>
      <div class="row">
        <div class="col-sm-3 col-md-3  menu-filter-pc">
          <div class="card">
            <h4 align="center" style="margin-top: 10px;margin-bottom: 10px;">Airlines</h4>
            <ul style="list-style:none;float: left;">
              <li *ngFor="let allu of airLineListUnique | unique;">
                <input [(ngModel)]="allu.checked" [value]="allu.value" style="margin-right:5px;" type="checkbox">
                {{allu.value}}
              </li>
            </ul>
          </div>
          <br>

          <div class="card">
            <h4 align="center" style="margin-top: 10px;margin-bottom: 10px;">Transit</h4>
            <ul style="list-style:none;">
              <li *ngFor="let tlu of transitListUnique | unique">
                <input [(ngModel)]="tlu.checked" [value]="tlu.value" style="margin-right:5px;" type="checkbox">
                <span *ngIf="tlu.value == 1">Direct</span>
                <span *ngIf="tlu.value != 1">{{tlu.value - 1}} Transit</span>
              </li>
            </ul>
          </div>
        </div>
        <br>

        <ng-container *ngIf="multiplePhase == 0">
          <div class="col-sm-9 col-md-9">
            <div class="mb-3 p-2 rounded border-bottom">
              <div class="row">
                <div class="col-12 flex-sortby">
                  <ng-container
                    *ngIf="dataFlightSearch | searchFligthFilter: { stops: ''} : checkedTransit() : { airline: ''} : checkedAirline() : sortByWhat as result;">
                    <span class="result-sortby">{{result?.length}} results</span>
                  </ng-container>
                  <div class="flex-center-sortby">
                    <label class="main-sortby">Sort by</label>
                    <select (change)="sortingSearchResult($event.target.value)" [(ngModel)]="sortByWhat"
                            class="selectpicker input-sortby">
                      <option value="0">Cheapest</option>
                      <option value="1">Fastest</option>
                    </select>
                  </div>
                </div>
              </div>
            </div>
            <div
              *ngFor="let dataflight of dataFlightSearch | searchFligthFilter: { stops: ''} : checkedTransit() : { airline: ''} : checkedAirline() : sortByWhat as result; let i = index"
              class="card card-ticket">
              <div class="row">
                <div (click)="flightDetailsAllCollapsed([i]); flightDetailsCollapsed[i] = !flightDetailsCollapsed[i]"
                     [attr.aria-expanded]="!flightDetailsCollapsed"
                     class="col-md-10 text-center">
                  <div class="row">
                    <div class="col-md-2 mb-3">
                      <div class="flight-section-airline-logo-wrap">
                        <img *ngIf="dataflight.transData[0].platingCarrier == 'ID'"
                             class="img-fluid img-circle airline-logo"
                             src="./assets/images/airlinelogo/{{dataflight.transData[0].platingCarrier}}.png">
                        <img *ngIf="dataflight.transData[0].platingCarrier != 'ID'"
                             class="img-fluid img-circle airline-logo"
                             src="https://s1.travix.com/global/assets/airlineLogos/{{dataflight.transData[0].platingCarrier}}.png">
                      </div>
                    </div>
                    <ng-container *ngIf="dataflight.stop == 1">
                      <div class="col-md-10">
                        <div class="row">
                          <div class="col-md-3">
                            <p
                              class="title-ticket">{{dataflight.transData[0].departureTime | amParseZone | amDateFormat:'HH:mm' }}</p>
                            <p class="destination-title">
                              {{dataflight.transData[0].origin_city_name}}</p>
                            <p
                              class="destination-date">{{dataflight.transData[0].departureTime | amParseZone | amDateFormat:'MMM DD, YYYY'}}</p>
                          </div>

                          <div class="col-md-6 text-center">
                            <div class="flight-section-path">
                              <div class="flight-section-fly-time">
                                <p>{{dataflight.transData[0].flightTime | minuteToHour}}</p>
                              </div>
                              <div class="flight-section-path-line"></div>
                              <div>
                                <div class="flight-section-path-line-start">
                                  <i class="fa fa-plane plane-departure flight-section-path-icon"></i>
                                  <div class="flight-section-path-line-dot"></div>
                                  <div class="flight-section-path-line-title">
                                    {{dataflight.transData[0].origin}}
                                  </div>
                                </div>

                                <div class="flight-section-path-line-middle">
                                  <i class="fa fa-plane flight-section-path-icon"></i>
                                  <div class="flight-section-path-line-dot"
                                       style="visibility: hidden"></div>
                                  <div class="flight-section-path-line-title">Direct</div>
                                </div>

                                <div>
                                  <div class="flight-section-path-line-end">
                                    <i class="fa fa-plane plane-destination flight-section-path-icon"></i>
                                    <div class="flight-section-path-line-dot"></div>
                                    <div class="flight-section-path-line-title">
                                      {{dataflight.transData[0].destination}}
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>

                          <div class="col-md-3">
                            <p
                              class="title-ticket">{{dataflight.transData[0].arrivalTime | amParseZone | amDateFormat:'HH:mm' }}</p>
                            <p class="destination-title">
                              {{dataflight.transData[0].destination_city_name}}</p>
                            <p
                              class="destination-date">{{dataflight.transData[0].arrivalTime | amParseZone | amDateFormat:'MMM DD, YYYY'}}</p>
                          </div>
                        </div>
                      </div>
                    </ng-container>

                    <ng-container *ngIf="dataflight.stop == 2">
                      <div class="col-md-10">
                        <div class="row">
                          <div class="col-md-3">
                            <p
                              class="title-ticket">{{dataflight.transData[0].departureTime | amParseZone | amDateFormat:'HH:mm' }}</p>
                            <p class="destination-title">
                              {{dataflight.transData[0].origin_city_name}}</p>
                            <p
                              class="destination-date">{{dataflight.transData[0].departureTime | amParseZone | amDateFormat:'MMM DD, YYYY'}}</p>
                          </div>

                          <div class="col-md-6 text-center">
                            <div class="flight-section-path">
                              <div class="flight-section-fly-time">
                                <p>{{(dataflight.transData[0].flightTime +
                                  dataflight.transData[1].flightTime) | minuteToHour}},
                                  {{(dataflight.stop) - 1}} Transit</p>
                              </div>
                              <div class="flight-section-path-line"></div>
                              <div>
                                <div class="flight-section-path-line-start">
                                  <i class="fa fa-plane plane-departure flight-section-path-icon"></i>
                                  <div class="flight-section-path-line-dot"></div>
                                  <div class="flight-section-path-line-title">
                                    {{dataflight.transData[0].origin}}
                                  </div>
                                </div>

                                <div class="flight-section-path-line-middle">
                                  <i class="fa fa-plane flight-section-path-icon"></i>
                                  <div class="flight-section-path-line-dot"></div>
                                  <div class="flight-section-path-line-title">
                                    {{dataflight.transData[0].destination}}
                                  </div>
                                </div>

                                <div>
                                  <div class="flight-section-path-line-end">
                                    <i class="fa fa-plane plane-destination flight-section-path-icon"></i>
                                    <div class="flight-section-path-line-dot"></div>
                                    <div class="flight-section-path-line-title">
                                      {{dataflight.transData[1].destination}}
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>

                          <div class="col-md-3">
                            <p
                              class="title-ticket">{{dataflight.transData[1].arrivalTime | amParseZone | amDateFormat:'HH:mm' }}</p>
                            <p class="destination-title">
                              {{dataflight.transData[1].destination_city_name}}</p>
                            <p
                              class="destination-date">{{dataflight.transData[1].arrivalTime | amParseZone | amDateFormat:'MMM DD, YYYY'}}</p>
                          </div>
                        </div>
                      </div>
                    </ng-container>

                    <ng-container *ngIf="dataflight.stop == 3">
                      <div class="col-md-10">
                        <div class="row">
                          <div class="col-md-3">
                            <p
                              class="title-ticket">{{dataflight.transData[0].departureTime | amParseZone | amDateFormat:'HH:mm' }}</p>
                            <p class="destination-title">
                              {{dataflight.transData[0].origin_city_name}}</p>
                            <p
                              class="destination-date">{{dataflight.transData[0].departureTime | amParseZone | amDateFormat:'MMM DD, YYYY'}}</p>
                          </div>

                          <div class="col-md-6 text-center">
                            <div class="flight-section-path">
                              <div class="flight-section-fly-time">
                                <p>{{(dataflight.transData[0].flightTime +
                                  dataflight.transData[1].flightTime) | minuteToHour}},
                                  {{(dataflight.stop) - 1}} Transit</p>
                              </div>
                              <div class="flight-section-path-line"></div>
                              <div>
                                <div class="flight-section-path-line-start">
                                  <i class="fa fa-plane plane-departure flight-section-path-icon"></i>
                                  <div class="flight-section-path-line-dot"></div>
                                  <div class="flight-section-path-line-title">
                                    {{dataflight.transData[0].origin}}
                                  </div>
                                </div>

                                <div class="flight-section-path-line-middle-1">
                                  <i class="fa fa-plane flight-section-path-icon"></i>
                                  <div class="flight-section-path-line-dot"></div>
                                  <div class="flight-section-path-line-title">
                                    {{dataflight.transData[1].origin}}
                                  </div>
                                </div>

                                <div class="flight-section-path-line-middle-2">
                                  <i class="fa fa-plane flight-section-path-icon"></i>
                                  <div class="flight-section-path-line-dot"></div>
                                  <div class="flight-section-path-line-title">
                                    {{dataflight.transData[1].destination}}
                                  </div>
                                </div>

                                <div>
                                  <div class="flight-section-path-line-end">
                                    <i class="fa fa-plane plane-destination flight-section-path-icon"></i>
                                    <div class="flight-section-path-line-dot"></div>
                                    <div class="flight-section-path-line-title">
                                      {{dataflight.transData[2].destination}}
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>

                          <div class="col-md-3">
                            <p
                              class="title-ticket">{{dataflight.transData[1].arrivalTime | amParseZone | amDateFormat:'HH:mm' }}</p>
                            <p class="destination-title">
                              {{dataflight.transData[1].destination_city_name}}</p>
                            <p
                              class="destination-date">{{dataflight.transData[1].arrivalTime | amParseZone | amDateFormat:'MMM DD, YYYY'}}</p>
                          </div>
                        </div>
                      </div>
                    </ng-container>

                  </div>
                  <div class="row mt-3">
                    <div class="col-md-6 col-xs-12">
                      <div class="title-maskapai">
                        {{dataflight.transData[0].platingCarrierName}}
                        <span>{{dataflight.transData[0].flightNumber}}</span>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="col-md-2 text-center">
                  <p class="text-price"><strong>{{dataflight.totalPrice |
                    currency:'IDR ':'symbol':'3.0'}}</strong><!--<small class="d-block mb-3">per person</small>--></p>
                  <button (click)="returnShowMultiple(dataflight, dataflight.index)"
                          class="btn btn-warning btn-block rounded button-search-flight-ticket">Select <i
                    class="fas fa-arrow-right"></i></button>
                </div>
              </div>

              <hr class="mb-0" style="border-color: #f5f7fa!important;">
              <div class="row mt-3" style="text-align: left">
                <div (click)="flightDetailsAllCollapsed([i]); flightDetailsCollapsed[i] = !flightDetailsCollapsed[i]"
                     [attr.aria-expanded]="!flightDetailsCollapsed"
                     class="col-md-2 col-sm-2 col-xs-2">
                  Flight Details
                </div>
                <div (click)="priceDetailsAllCollapsed([i]); priceDetailsCollapsed[i] = !priceDetailsCollapsed[i]"
                     [attr.aria-expanded]="!priceDetailsCollapsed"
                     class="col-md-2 col-sm-2 col-xs-2">
                  Price Details
                </div>
              </div>

              <div [ngbCollapse]="!flightDetailsCollapsed[i]" class="card mt-2" style="background: #f2f8ff;">
                <div class="col-md-12">
                  <div *ngFor="let dataflightTrans of dataflight.transData" class="row mb-3"
                       style="margin-top: 25px">
                    <div class="col-md-2 mb-3">
                      <div class="flight-section-airline-logo-wrap">
                        <img *ngIf="dataflight.transData[0].platingCarrier == 'ID'"
                             class="img-fluid img-circle airline-logo"
                             src="./assets/images/airlinelogo/{{dataflight.transData[0].platingCarrier}}.png">
                        <img *ngIf="dataflight.transData[0].platingCarrier != 'ID'"
                             class="img-fluid img-circle airline-logo"
                             src="https://s1.travix.com/global/assets/airlineLogos/{{dataflight.transData[0].platingCarrier}}.png">
                      </div>
                    </div>
                    <div class="col-md-10">
                      <div class="row">
                        <div class="col-md-6">
                          <ul class="flight-details-schedule-list">
                            <li>
                              <i class="fa fa-plane flight-details-schedule-icon"></i>
                              <p class="flight-details-schedule-date">
                                {{dataflightTrans.arrivalTime | amParseZone | amDateFormat:'MMM dd, YYYY' }}</p>
                              <div class="flight-details-schedule-time">
                                {{dataflightTrans.departureTime | amParseZone | amDateFormat:'HH:mm' }} -
                                {{dataflightTrans.arrivalTime | amParseZone | amDateFormat:'HH:mm' }}
                                ({{dataflightTrans.flightTime | minuteToHour}})
                              </div>
                              <div class="flight-details-schedule-destination">
                                <div style="float: left; max-width: 40%">
                                  <p style="font-weight: bold; margin-bottom: 0">
                                    {{dataflightTrans.origin}}
                                  </p>
                                  <p class="flight-details-schedule-destination-city">
                                    {{dataflightTrans.origin_airport_name}}</p>
                                </div>
                                <div style="float: left; margin: 0 10px">
                                  <span>→</span>
                                </div>
                                <div style="float: left; max-width: 40%">
                                  <p style="font-weight: bold; margin-bottom: 0">
                                    {{dataflightTrans.destination}}
                                  </p>
                                  <p class="flight-details-schedule-destination-city">
                                    {{dataflightTrans.destination_airport_name}}</p>
                                </div>
                              </div>
                            </li>
                          </ul>
                        </div>
                        <div class="col-md-6">
                          <ul class="flight-details-feature-list" style="font-size: 0.9rem">
                            <li>
                              <span>Airplane</span> :
                              <span
                                style="color: #8F8F8F">{{dataflightTrans.platingCarrierName}}
                                {{dataflightTrans.platingCarrier}}-{{dataflightTrans.flightNumber}}</span>
                            </li>
                            <li *ngIf="dataflightTrans.codeShareInfo.length != 0">
                              <span>Operated By</span> :
                              <span style="color: #8F8F8F;">
                                {{dataflightTrans.codeShareInfo.operatingCarrierName}}
                                {{dataflightTrans.codeShareInfo.operatingCarrier + '-' + dataflightTrans.codeShareInfo.operatingFlightNumber}}
                              </span>
                            </li>
                            <li>
                              <span>Cabin Class</span> : <span
                              style="color: #8F8F8F">{{dataflightTrans.cabinClass}}</span>
                            </li>
                            <ng-container *ngIf="dataflightTrans.baggageData?.length >= 1">
                              <li *ngFor="let baggageDatas of dataflightTrans.baggageData">
                                <ng-container *ngIf="baggageDatas.passengerCode == 'ADT'">
                                  <span>Adult Baggage</span> : <span
                                  style="color: #8F8F8F">{{baggageDatas.baggage}} {{baggageDatas.baggageUnit}}</span>
                                </ng-container>
                                <ng-container
                                  *ngIf="baggageDatas.passengerCode == 'CHD' || baggageDatas.passengerCode == 'CNN'">
                                  <span>Child Baggage</span> : <span
                                  style="color: #8F8F8F">{{baggageDatas.baggage}} {{baggageDatas.baggageUnit}}</span>
                                </ng-container>
                                <ng-container *ngIf="baggageDatas.passengerCode == 'INF'">
                                  <span>Infant Baggage</span> : <span
                                  style="color: #8F8F8F">{{baggageDatas.baggage}} {{baggageDatas.baggageUnit}}</span>
                                </ng-container>
                              </li>
                            </ng-container>
                            <ng-container *ngIf="dataflightTrans.baggageData?.length == 0">
                              <span>Baggage </span> : <span style="color: #8F8F8F">Not Include</span>
                            </ng-container>
                          </ul>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <div [ngbCollapse]="!priceDetailsCollapsed[i]">
                <div class="card mt-2" style="background: #f2f8ff;">
                  <div class="col-md-12">
                    <div class="row mb-3" style="margin-top: 25px">
                      <div class="col-md-12">
                        <div class="row">
                          <div class="col-md-4">
                            <span *ngIf="dataflight.Refundable == true">Refundable</span>
                          </div>
                          <div class="col-md-8">
                            <div>
                              <ng-container *ngIf="dataflight.numPassenger?.length > 1">
                                <div *ngFor="let dataflightTrans of dataflight.numPassenger">
                                  <ng-container *ngIf="dataflightTrans.passengerCode == 'ADT'">
                                    {{dataflightTrans.numPassenger}}X Adult Basic Price
                                    <span
                                      style="float: right; font-weight: bold">{{dataflightTrans.amount | currency:'IDR ':'symbol':'3.0'}}</span>
                                  </ng-container>
                                  <ng-container
                                    *ngIf="dataflightTrans.passengerCode == 'CHD' || dataflightTrans.passengerCode == 'CNN'">
                                    {{dataflightTrans.numPassenger}}X Child Basic Price
                                    <span
                                      style="float: right; font-weight: bold">{{dataflightTrans.amount | currency:'IDR ':'symbol':'3.0'}}</span>
                                  </ng-container>
                                  <ng-container *ngIf="dataflightTrans.passengerCode == 'INF'">
                                    {{dataflightTrans.numPassenger}}X Infant Basic Price
                                    <span
                                      style="float: right; font-weight: bold">{{dataflightTrans.amount | currency:'IDR ':'symbol':'3.0'}}</span>
                                  </ng-container>
                                </div>
                              </ng-container>

                              <ng-container *ngIf="dataflight.numPassenger?.length == undefined">
                                <div *ngIf="dataflight.numPassenger as dataflightTrans">
                                  <ng-container *ngIf="dataflightTrans.passengerCode == 'ADT'">
                                    {{dataflightTrans.numPassenger}}X Adult Basic Price
                                    <span
                                      style="float: right; font-weight: bold">{{dataflightTrans.amount | currency:'IDR ':'symbol':'3.0'}}</span>
                                  </ng-container>
                                  <ng-container
                                    *ngIf="dataflightTrans.passengerCode == 'CHD' || dataflightTrans.passengerCode == 'CNN'">
                                    {{dataflightTrans.numPassenger}}X Child Basic Price
                                    <span
                                      style="float: right; font-weight: bold">{{dataflightTrans.amount | currency:'IDR ':'symbol':'3.0'}}</span>
                                  </ng-container>
                                  <ng-container *ngIf="dataflightTrans.passengerCode == 'INF'">
                                    {{dataflightTrans.numPassenger}}X Infant Basic Price
                                    <span
                                      style="float: right; font-weight: bold">{{dataflightTrans.amount | currency:'IDR ':'symbol':'3.0'}}</span>
                                  </ng-container>
                                </div>
                              </ng-container>

                              <div>
                                Tax
                                <span
                                  style="float: right; font-weight: bold">{{dataflight.taxes | currency:'IDR ':'symbol':'3.0'}}</span>
                              </div>

                              <div style="height: 1px; background: #dedede; margin: 8px 0;"></div>

                              <div>
                                Total price
                                <span
                                  style="float: right; font-weight: bold">{{dataflight.totalPrice | currency:'IDR ':'symbol':'3.0'}}</span>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </ng-container>

        <ng-container *ngIf="multiplePhase != 0 && multiplePhase < dataMultiTripStep">
          <div class="col-sm-9 col-md-9">
            <div class="alert alert-warning">
              <p class="mb-0 text-center">Pilih pesawat untuk penerbangan {{multiplePhase + 1}}</p>
            </div>
            <div class="mb-3 p-2 rounded border-bottom">
              <div class="row">
                <div class="col-12 flex-sortby">
                  <ng-container
                    *ngIf="dataMultiTrip[multiplePhaseIndex].flightSession[multiplePhase - 1] | searchFligthFilter: { stops: ''} : checkedTransit() : { airline: ''} : checkedAirline() : sortByWhat as result;">
                    <span class="result-sortby">{{result?.length}} results</span>
                  </ng-container>
                  <div class="flex-center-sortby">
                    <label class="main-sortby">Sort by</label>
                    <select (change)="sortingSearchResult($event.target.value)" [(ngModel)]="sortByWhat"
                            class="selectpicker input-sortby">
                      <option value="0">Cheapest</option>
                      <option value="1">Fastest</option>
                    </select>
                  </div>
                </div>
              </div>
            </div>
            <div
              *ngFor="let dataflight of this.dataMultiTrip[multiplePhaseIndex].flightSession[multiplePhase - 1] | searchFligthFilter: { stops: ''} : checkedTransit() : { airline: ''} : checkedAirline() : sortByWhat as result; let i = index"
              class="card card-ticket">
              <div class="row">
                <div (click)="flightDetailsAllCollapsed([i]); flightDetailsCollapsed[i] = !flightDetailsCollapsed[i]"
                     [attr.aria-expanded]="!flightDetailsCollapsed"
                     class="col-md-10 text-center">
                  <div class="row">
                    <div class="col-md-2 mb-3">
                      <div class="flight-section-airline-logo-wrap">
                        <img *ngIf="dataflight.transData[0].platingCarrier == 'ID'"
                             class="img-fluid img-circle airline-logo"
                             src="./assets/images/airlinelogo/{{dataflight.transData[0].platingCarrier}}.png">
                        <img *ngIf="dataflight.transData[0].platingCarrier != 'ID'"
                             class="img-fluid img-circle airline-logo"
                             src="https://s1.travix.com/global/assets/airlineLogos/{{dataflight.transData[0].platingCarrier}}.png">
                      </div>
                    </div>
                    <ng-container *ngIf="dataflight.stop == 1">
                      <div class="col-md-10">
                        <div class="row">
                          <div class="col-md-3">
                            <p
                              class="title-ticket">{{dataflight.transData[0].departureTime | amParseZone | amDateFormat:'HH:mm' }}</p>
                            <p class="destination-title">
                              {{dataflight.transData[0].origin_city_name}}</p>
                            <p
                              class="destination-date">{{dataflight.transData[0].departureTime | amParseZone | amDateFormat:'MMM DD, YYYY'}}</p>
                          </div>

                          <div class="col-md-6 text-center">
                            <div class="flight-section-path">
                              <div class="flight-section-fly-time">
                                <p>{{dataflight.transData[0].flightTime | minuteToHour}}</p>
                              </div>
                              <div class="flight-section-path-line"></div>
                              <div>
                                <div class="flight-section-path-line-start">
                                  <i class="fa fa-plane plane-departure flight-section-path-icon"></i>
                                  <div class="flight-section-path-line-dot"></div>
                                  <div class="flight-section-path-line-title">
                                    {{dataflight.transData[0].origin}}
                                  </div>
                                </div>

                                <div class="flight-section-path-line-middle">
                                  <i class="fa fa-plane flight-section-path-icon"></i>
                                  <div class="flight-section-path-line-dot"
                                       style="visibility: hidden"></div>
                                  <div class="flight-section-path-line-title">Direct</div>
                                </div>

                                <div>
                                  <div class="flight-section-path-line-end">
                                    <i class="fa fa-plane plane-destination flight-section-path-icon"></i>
                                    <div class="flight-section-path-line-dot"></div>
                                    <div class="flight-section-path-line-title">
                                      {{dataflight.transData[0].destination}}
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>

                          <div class="col-md-3">
                            <p
                              class="title-ticket">{{dataflight.transData[0].arrivalTime | amParseZone | amDateFormat:'HH:mm' }}</p>
                            <p class="destination-title">
                              {{dataflight.transData[0].destination_city_name}}</p>
                            <p
                              class="destination-date">{{dataflight.transData[0].arrivalTime | amParseZone | amDateFormat:'MMM DD, YYYY'}}</p>
                          </div>
                        </div>
                      </div>
                    </ng-container>

                    <ng-container *ngIf="dataflight.stop == 2">
                      <div class="col-md-10">
                        <div class="row">
                          <div class="col-md-3">
                            <p
                              class="title-ticket">{{dataflight.transData[0].departureTime | amParseZone | amDateFormat:'HH:mm' }}</p>
                            <p class="destination-title">
                              {{dataflight.transData[0].origin_city_name}}</p>
                            <p
                              class="destination-date">{{dataflight.transData[0].departureTime | amParseZone | amDateFormat:'MMM DD, YYYY'}}</p>
                          </div>

                          <div class="col-md-6 text-center">
                            <div class="flight-section-path">
                              <div class="flight-section-fly-time">
                                <p>{{(dataflight.transData[0].flightTime +
                                  dataflight.transData[1].flightTime) | minuteToHour}},
                                  {{(dataflight.stop) - 1}} Transit</p>
                              </div>
                              <div class="flight-section-path-line"></div>
                              <div>
                                <div class="flight-section-path-line-start">
                                  <i class="fa fa-plane plane-departure flight-section-path-icon"></i>
                                  <div class="flight-section-path-line-dot"></div>
                                  <div class="flight-section-path-line-title">
                                    {{dataflight.transData[0].origin}}
                                  </div>
                                </div>

                                <div class="flight-section-path-line-middle">
                                  <i class="fa fa-plane flight-section-path-icon"></i>
                                  <div class="flight-section-path-line-dot"></div>
                                  <div class="flight-section-path-line-title">
                                    {{dataflight.transData[0].destination}}
                                  </div>
                                </div>

                                <div>
                                  <div class="flight-section-path-line-end">
                                    <i class="fa fa-plane plane-destination flight-section-path-icon"></i>
                                    <div class="flight-section-path-line-dot"></div>
                                    <div class="flight-section-path-line-title">
                                      {{dataflight.transData[1].destination}}
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>

                          <div class="col-md-3">
                            <p
                              class="title-ticket">{{dataflight.transData[1].arrivalTime | amParseZone | amDateFormat:'HH:mm' }}</p>
                            <p class="destination-title">
                              {{dataflight.transData[1].destination_city_name}}</p>
                            <p
                              class="destination-date">{{dataflight.transData[1].arrivalTime | amParseZone | amDateFormat:'MMM DD, YYYY'}}</p>
                          </div>
                        </div>
                      </div>
                    </ng-container>

                    <ng-container *ngIf="dataflight.stop == 3">
                      <div class="col-md-10">
                        <div class="row">
                          <div class="col-md-3">
                            <p
                              class="title-ticket">{{dataflight.transData[0].departureTime | amParseZone | amDateFormat:'HH:mm' }}</p>
                            <p class="destination-title">
                              {{dataflight.transData[0].origin_city_name}}</p>
                            <p
                              class="destination-date">{{dataflight.transData[0].departureTime | amParseZone | amDateFormat:'MMM DD, YYYY'}}</p>
                          </div>

                          <div class="col-md-6 text-center">
                            <div class="flight-section-path">
                              <div class="flight-section-fly-time">
                                <p>{{(dataflight.transData[0].flightTime +
                                  dataflight.transData[1].flightTime) | minuteToHour}},
                                  {{(dataflight.stop) - 1}} Transit</p>
                              </div>
                              <div class="flight-section-path-line"></div>
                              <div>
                                <div class="flight-section-path-line-start">
                                  <i class="fa fa-plane plane-departure flight-section-path-icon"></i>
                                  <div class="flight-section-path-line-dot"></div>
                                  <div class="flight-section-path-line-title">
                                    {{dataflight.transData[0].origin}}
                                  </div>
                                </div>

                                <div class="flight-section-path-line-middle-1">
                                  <i class="fa fa-plane flight-section-path-icon"></i>
                                  <div class="flight-section-path-line-dot"></div>
                                  <div class="flight-section-path-line-title">
                                    {{dataflight.transData[1].origin}}
                                  </div>
                                </div>

                                <div class="flight-section-path-line-middle-2">
                                  <i class="fa fa-plane flight-section-path-icon"></i>
                                  <div class="flight-section-path-line-dot"></div>
                                  <div class="flight-section-path-line-title">
                                    {{dataflight.transData[1].destination}}
                                  </div>
                                </div>

                                <div>
                                  <div class="flight-section-path-line-end">
                                    <i class="fa fa-plane plane-destination flight-section-path-icon"></i>
                                    <div class="flight-section-path-line-dot"></div>
                                    <div class="flight-section-path-line-title">
                                      {{dataflight.transData[2].destination}}
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>

                          <div class="col-md-3">
                            <p
                              class="title-ticket">{{dataflight.transData[1].arrivalTime | amParseZone | amDateFormat:'HH:mm' }}</p>
                            <p class="destination-title">
                              {{dataflight.transData[1].destination_city_name}}</p>
                            <p
                              class="destination-date">{{dataflight.transData[1].arrivalTime | amParseZone | amDateFormat:'MMM DD, YYYY'}}</p>
                          </div>
                        </div>
                      </div>
                    </ng-container>

                  </div>
                  <div class="row mt-3">
                    <div class="col-md-6 col-xs-12">
                      <div class="title-maskapai">
                        {{dataflight.transData[0].platingCarrierName}}
                        <span>{{dataflight.transData[0].flightNumber}}</span>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="col-md-2 text-center">
                  <button (click)="returnShowMultiple(dataflight, dataflight.index)"
                          class="btn btn-warning btn-block rounded button-search-flight-ticket">Select <i
                    class="fas fa-arrow-right"></i></button>
                </div>
              </div>

              <hr class="mb-0" style="border-color: #f5f7fa!important;">
              <div class="row mt-3" style="text-align: left">
                <div (click)="flightDetailsAllCollapsed([i]); flightDetailsCollapsed[i] = !flightDetailsCollapsed[i]"
                     [attr.aria-expanded]="!flightDetailsCollapsed"
                     class="col-md-2 col-sm-2 col-xs-2">
                  Flight Details
                </div>
                <div (click)="priceDetailsAllCollapsed([i]); priceDetailsCollapsed[i] = !priceDetailsCollapsed[i]"
                     [attr.aria-expanded]="!priceDetailsCollapsed"
                     class="col-md-2 col-sm-2 col-xs-2">
                  Price Details
                </div>
              </div>

              <div [ngbCollapse]="!flightDetailsCollapsed[i]" class="card mt-2" style="background: #f2f8ff;">
                <div class="col-md-12">
                  <div *ngFor="let dataflightTrans of dataflight.transData" class="row mb-3"
                       style="margin-top: 25px">
                    <div class="col-md-2 mb-3">
                      <div class="flight-section-airline-logo-wrap">
                        <img *ngIf="dataflight.transData[0].platingCarrier == 'ID'"
                             class="img-fluid img-circle airline-logo"
                             src="./assets/images/airlinelogo/{{dataflight.transData[0].platingCarrier}}.png">
                        <img *ngIf="dataflight.transData[0].platingCarrier != 'ID'"
                             class="img-fluid img-circle airline-logo"
                             src="https://s1.travix.com/global/assets/airlineLogos/{{dataflight.transData[0].platingCarrier}}.png">
                      </div>
                    </div>
                    <div class="col-md-10">
                      <div class="row">
                        <div class="col-md-6">
                          <ul class="flight-details-schedule-list">
                            <li>
                              <i class="fa fa-plane flight-details-schedule-icon"></i>
                              <p class="flight-details-schedule-date">
                                {{dataflightTrans.arrivalTime | amParseZone | amDateFormat:'MMM dd, yyyy' }}</p>
                              <div class="flight-details-schedule-time">
                                {{dataflightTrans.departureTime | amParseZone | amDateFormat:'HH:mm' }} -
                                {{dataflightTrans.arrivalTime | amParseZone | amDateFormat:'HH:mm' }}
                                ({{dataflightTrans.flightTime | minuteToHour}})
                              </div>
                              <div class="flight-details-schedule-destination">
                                <div style="float: left; max-width: 40%">
                                  <p style="font-weight: bold; margin-bottom: 0">
                                    {{dataflightTrans.origin}}
                                  </p>
                                  <p class="flight-details-schedule-destination-city">
                                    {{dataflightTrans.origin_airport_name}}</p>
                                </div>
                                <div style="float: left; margin: 0 10px">
                                  <span>→</span>
                                </div>
                                <div style="float: left; max-width: 40%">
                                  <p style="font-weight: bold; margin-bottom: 0">
                                    {{dataflightTrans.destination}}
                                  </p>
                                  <p class="flight-details-schedule-destination-city">
                                    {{dataflightTrans.destination_airport_name}}</p>
                                </div>
                              </div>
                            </li>
                          </ul>
                        </div>
                        <div class="col-md-6">
                          <ul class="flight-details-feature-list" style="font-size: 0.9rem">
                            <li>
                              <span>Airplane</span> :
                              <span
                                style="color: #8F8F8F">{{dataflightTrans.platingCarrierName}}
                                {{dataflightTrans.platingCarrier}}-{{dataflightTrans.flightNumber}}</span>
                            </li>
                            <li *ngIf="dataflightTrans.codeShareInfo.length != 0">
                              <span>Operated By</span> :
                              <span style="color: #8F8F8F;">
                                {{dataflightTrans.codeShareInfo.operatingCarrierName}}
                                {{dataflightTrans.codeShareInfo.operatingCarrier + '-' + dataflightTrans.codeShareInfo.operatingFlightNumber}}
                              </span>
                            </li>
                            <li>
                              <span>Cabin Class</span> : <span
                              style="color: #8F8F8F">{{dataflightTrans.cabinClass}}</span>
                            </li>
                            <ng-container *ngIf="dataflightTrans.baggageData?.length >= 1">
                              <li *ngFor="let baggageDatas of dataflightTrans.baggageData">
                                <ng-container *ngIf="baggageDatas.passengerCode == 'ADT'">
                                  <span>Adult Baggage</span> : <span
                                  style="color: #8F8F8F">{{baggageDatas.baggage}} {{baggageDatas.baggageUnit}}</span>
                                </ng-container>
                                <ng-container
                                  *ngIf="baggageDatas.passengerCode == 'CHD' || baggageDatas.passengerCode == 'CNN'">
                                  <span>Child Baggage</span> : <span
                                  style="color: #8F8F8F">{{baggageDatas.baggage}} {{baggageDatas.baggageUnit}}</span>
                                </ng-container>
                                <ng-container *ngIf="baggageDatas.passengerCode == 'INF'">
                                  <span>Infant Baggage</span> : <span
                                  style="color: #8F8F8F">{{baggageDatas.baggage}} {{baggageDatas.baggageUnit}}</span>
                                </ng-container>
                              </li>
                            </ng-container>
                            <ng-container *ngIf="dataflightTrans.baggageData?.length == 0">
                              <span>Baggage </span> : <span style="color: #8F8F8F">Not Include</span>
                            </ng-container>
                          </ul>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <div [ngbCollapse]="!priceDetailsCollapsed[i]">
                <div class="card mt-2" style="background: #f2f8ff;">
                  <div class="col-md-12">
                    <div class="row mb-3" style="margin-top: 25px">
                      <div class="col-md-12">
                        <div class="row">
                          <div class="col-md-4">
                            <span *ngIf="dataflight.Refundable == true">Refundable</span>
                          </div>
                          <div class="col-md-8">
                            <div>
                              <ng-container *ngIf="dataflight.numPassenger?.length > 1">
                                <div *ngFor="let dataflightTrans of dataflight.numPassenger">
                                  <ng-container *ngIf="dataflightTrans.passengerCode == 'ADT'">
                                    {{dataflightTrans.numPassenger}}X Adult Basic Price
                                    <span
                                      style="float: right; font-weight: bold">{{dataflightTrans.amount | currency:'IDR ':'symbol':'3.0'}}</span>
                                  </ng-container>
                                  <ng-container
                                    *ngIf="dataflightTrans.passengerCode == 'CHD' || dataflightTrans.passengerCode == 'CNN'">
                                    {{dataflightTrans.numPassenger}}X Child Basic Price
                                    <span
                                      style="float: right; font-weight: bold">{{dataflightTrans.amount | currency:'IDR ':'symbol':'3.0'}}</span>
                                  </ng-container>
                                  <ng-container *ngIf="dataflightTrans.passengerCode == 'INF'">
                                    {{dataflightTrans.numPassenger}}X Infant Basic Price
                                    <span
                                      style="float: right; font-weight: bold">{{dataflightTrans.amount | currency:'IDR ':'symbol':'3.0'}}</span>
                                  </ng-container>
                                </div>
                              </ng-container>

                              <ng-container *ngIf="dataflight.numPassenger?.length == undefined">
                                <div *ngIf="dataflight.numPassenger as dataflightTrans">
                                  <ng-container *ngIf="dataflightTrans.passengerCode == 'ADT'">
                                    {{dataflightTrans.numPassenger}}X Adult Basic Price
                                    <span
                                      style="float: right; font-weight: bold">{{dataflightTrans.amount | currency:'IDR ':'symbol':'3.0'}}</span>
                                  </ng-container>
                                  <ng-container
                                    *ngIf="dataflightTrans.passengerCode == 'CHD' || dataflightTrans.passengerCode == 'CNN'">
                                    {{dataflightTrans.numPassenger}}X Child Basic Price
                                    <span
                                      style="float: right; font-weight: bold">{{dataflightTrans.amount | currency:'IDR ':'symbol':'3.0'}}</span>
                                  </ng-container>
                                  <ng-container *ngIf="dataflightTrans.passengerCode == 'INF'">
                                    {{dataflightTrans.numPassenger}}X Infant Basic Price
                                    <span
                                      style="float: right; font-weight: bold">{{dataflightTrans.amount | currency:'IDR ':'symbol':'3.0'}}</span>
                                  </ng-container>
                                </div>
                              </ng-container>

                              <div>
                                Tax
                                <span
                                  style="float: right; font-weight: bold">{{dataflight.taxes | currency:'IDR ':'symbol':'3.0'}}</span>
                              </div>

                              <div style="height: 1px; background: #dedede; margin: 8px 0;"></div>

                              <div>
                                Total price
                                <span
                                  style="float: right; font-weight: bold">{{dataflight.totalPrice | currency:'IDR ':'symbol':'3.0'}}</span>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </ng-container>

        <ng-container *ngIf="multiplePhase == dataMultiTripStep ">
          <div class="col-sm-9 col-md-9">
            <div class="mb-3 p-2 rounded border-bottom">
              <div class="row">
                <div class="col-12 flex-sortby">
                  <ng-container
                    *ngIf="dataMultiTrip[multiplePhaseIndex].flightSession[multiplePhase - 1] | searchFligthFilter: { stops: ''} : checkedTransit() : { airline: ''} : checkedAirline() : sortByWhat as result;">
                    <span class="result-sortby">{{result?.length}} results</span>
                  </ng-container>
                  <div class="flex-center-sortby">
                    <label class="main-sortby">Sort by</label>
                    <select (change)="sortingSearchResult($event.target.value)" [(ngModel)]="sortByWhat"
                            class="selectpicker input-sortby">
                      <option value="0">Cheapest</option>
                      <option value="1">Fastest</option>
                    </select>
                  </div>
                </div>
              </div>
            </div>
            <div
              *ngFor="let dataflight of this.dataMultiTrip[multiplePhaseIndex].flightSession[multiplePhase - 1] | searchFligthFilter: { stops: ''} : checkedTransit() : { airline: ''} : checkedAirline() : sortByWhat as result; let i = index"
              class="card card-ticket">
              <div class="row">
                <div (click)="flightDetailsAllCollapsed([i]); flightDetailsCollapsed[i] = !flightDetailsCollapsed[i]"
                     [attr.aria-expanded]="!flightDetailsCollapsed"
                     class="col-md-10 text-center">
                  <div class="row">
                    <div class="col-md-2 mb-3">
                      <div class="flight-section-airline-logo-wrap">
                        <img *ngIf="dataflight.transData[0].platingCarrier == 'ID'"
                             class="img-fluid img-circle airline-logo"
                             src="./assets/images/airlinelogo/{{dataflight.transData[0].platingCarrier}}.png">
                        <img *ngIf="dataflight.transData[0].platingCarrier != 'ID'"
                             class="img-fluid img-circle airline-logo"
                             src="https://s1.travix.com/global/assets/airlineLogos/{{dataflight.transData[0].platingCarrier}}.png">
                      </div>
                    </div>
                    <ng-container *ngIf="dataflight.stop == 1">
                      <div class="col-md-10">
                        <div class="row">
                          <div class="col-md-3">
                            <p
                              class="title-ticket">{{dataflight.transData[0].departureTime | amParseZone | amDateFormat:'HH:mm' }}</p>
                            <p class="destination-title">
                              {{dataflight.transData[0].origin_city_name}}</p>
                            <p
                              class="destination-date">{{dataflight.transData[0].departureTime | amParseZone | amDateFormat:'MMM DD, YYYY'}}</p>
                          </div>

                          <div class="col-md-6 text-center">
                            <div class="flight-section-path">
                              <div class="flight-section-fly-time">
                                <p>{{dataflight.transData[0].flightTime | minuteToHour}}</p>
                              </div>
                              <div class="flight-section-path-line"></div>
                              <div>
                                <div class="flight-section-path-line-start">
                                  <i class="fa fa-plane plane-departure flight-section-path-icon"></i>
                                  <div class="flight-section-path-line-dot"></div>
                                  <div class="flight-section-path-line-title">
                                    {{dataflight.transData[0].origin}}
                                  </div>
                                </div>

                                <div class="flight-section-path-line-middle">
                                  <i class="fa fa-plane flight-section-path-icon"></i>
                                  <div class="flight-section-path-line-dot"
                                       style="visibility: hidden"></div>
                                  <div class="flight-section-path-line-title">Direct</div>
                                </div>

                                <div>
                                  <div class="flight-section-path-line-end">
                                    <i class="fa fa-plane plane-destination flight-section-path-icon"></i>
                                    <div class="flight-section-path-line-dot"></div>
                                    <div class="flight-section-path-line-title">
                                      {{dataflight.transData[0].destination}}
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>

                          <div class="col-md-3">
                            <p
                              class="title-ticket">{{dataflight.transData[0].arrivalTime | amParseZone | amDateFormat:'HH:mm' }}</p>
                            <p class="destination-title">
                              {{dataflight.transData[0].destination_city_name}}</p>
                            <p
                              class="destination-date">{{dataflight.transData[0].arrivalTime | amParseZone | amDateFormat:'MMM DD, YYYY'}}</p>
                          </div>
                        </div>
                      </div>
                    </ng-container>

                    <ng-container *ngIf="dataflight.stop == 2">
                      <div class="col-md-10">
                        <div class="row">
                          <div class="col-md-3">
                            <p
                              class="title-ticket">{{dataflight.transData[0].departureTime | amParseZone | amDateFormat:'HH:mm' }}</p>
                            <p class="destination-title">
                              {{dataflight.transData[0].origin_city_name}}</p>
                            <p
                              class="destination-date">{{dataflight.transData[0].departureTime | amParseZone | amDateFormat:'MMM DD, YYYY'}}</p>
                          </div>

                          <div class="col-md-6 text-center">
                            <div class="flight-section-path">
                              <div class="flight-section-fly-time">
                                <p>{{(dataflight.transData[0].flightTime +
                                  dataflight.transData[1].flightTime) | minuteToHour}},
                                  {{(dataflight.stop) - 1}} Transit</p>
                              </div>
                              <div class="flight-section-path-line"></div>
                              <div>
                                <div class="flight-section-path-line-start">
                                  <i class="fa fa-plane plane-departure flight-section-path-icon"></i>
                                  <div class="flight-section-path-line-dot"></div>
                                  <div class="flight-section-path-line-title">
                                    {{dataflight.transData[0].origin}}
                                  </div>
                                </div>

                                <div class="flight-section-path-line-middle">
                                  <i class="fa fa-plane flight-section-path-icon"></i>
                                  <div class="flight-section-path-line-dot"></div>
                                  <div class="flight-section-path-line-title">
                                    {{dataflight.transData[0].destination}}
                                  </div>
                                </div>

                                <div>
                                  <div class="flight-section-path-line-end">
                                    <i class="fa fa-plane plane-destination flight-section-path-icon"></i>
                                    <div class="flight-section-path-line-dot"></div>
                                    <div class="flight-section-path-line-title">
                                      {{dataflight.transData[1].destination}}
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>

                          <div class="col-md-3">
                            <p
                              class="title-ticket">{{dataflight.transData[1].arrivalTime | amParseZone | amDateFormat:'HH:mm' }}</p>
                            <p class="destination-title">
                              {{dataflight.transData[1].destination_city_name}}</p>
                            <p
                              class="destination-date">{{dataflight.transData[1].arrivalTime | amParseZone | amDateFormat:'MMM DD, YYYY'}}</p>
                          </div>
                        </div>
                      </div>
                    </ng-container>

                    <ng-container *ngIf="dataflight.stop == 3">
                      <div class="col-md-10">
                        <div class="row">
                          <div class="col-md-3">
                            <p
                              class="title-ticket">{{dataflight.transData[0].departureTime | amParseZone | amDateFormat:'HH:mm' }}</p>
                            <p class="destination-title">
                              {{dataflight.transData[0].origin_city_name}}</p>
                            <p
                              class="destination-date">{{dataflight.transData[0].departureTime | amParseZone | amDateFormat:'MMM DD, YYYY'}}</p>
                          </div>

                          <div class="col-md-6 text-center">
                            <div class="flight-section-path">
                              <div class="flight-section-fly-time">
                                <p>{{(dataflight.transData[0].flightTime +
                                  dataflight.transData[1].flightTime) | minuteToHour}},
                                  {{(dataflight.stop) - 1}} Transit</p>
                              </div>
                              <div class="flight-section-path-line"></div>
                              <div>
                                <div class="flight-section-path-line-start">
                                  <i class="fa fa-plane plane-departure flight-section-path-icon"></i>
                                  <div class="flight-section-path-line-dot"></div>
                                  <div class="flight-section-path-line-title">
                                    {{dataflight.transData[0].origin}}
                                  </div>
                                </div>

                                <div class="flight-section-path-line-middle-1">
                                  <i class="fa fa-plane flight-section-path-icon"></i>
                                  <div class="flight-section-path-line-dot"></div>
                                  <div class="flight-section-path-line-title">
                                    {{dataflight.transData[1].origin}}
                                  </div>
                                </div>

                                <div class="flight-section-path-line-middle-2">
                                  <i class="fa fa-plane flight-section-path-icon"></i>
                                  <div class="flight-section-path-line-dot"></div>
                                  <div class="flight-section-path-line-title">
                                    {{dataflight.transData[1].destination}}
                                  </div>
                                </div>

                                <div>
                                  <div class="flight-section-path-line-end">
                                    <i class="fa fa-plane plane-destination flight-section-path-icon"></i>
                                    <div class="flight-section-path-line-dot"></div>
                                    <div class="flight-section-path-line-title">
                                      {{dataflight.transData[2].destination}}
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>

                          <div class="col-md-3">
                            <p
                              class="title-ticket">{{dataflight.transData[1].arrivalTime | amParseZone | amDateFormat:'HH:mm' }}</p>
                            <p class="destination-title">
                              {{dataflight.transData[1].destination_city_name}}</p>
                            <p
                              class="destination-date">{{dataflight.transData[1].arrivalTime | amParseZone | amDateFormat:'MMM DD, YYYY'}}</p>
                          </div>
                        </div>
                      </div>
                    </ng-container>

                  </div>
                  <div class="row mt-3">
                    <div class="col-md-6 col-xs-12">
                      <div class="title-maskapai">
                        {{dataflight.transData[0].platingCarrierName}}
                        <span>{{dataflight.transData[0].flightNumber}}</span>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="col-md-2 text-center">
                  <button (click)="navigateToBooking(sessionID, dataflight)"
                          class="btn btn-warning btn-block rounded button-search-flight-ticket">Select <i
                    class="fas fa-arrow-right"></i></button>
                </div>
              </div>

              <div class="row mt-3" style="text-align: left">
                <div (click)="flightDetailsAllCollapsed([i]); flightDetailsCollapsed[i] = !flightDetailsCollapsed[i]"
                     [attr.aria-expanded]="!flightDetailsCollapsed"
                     class="col-md-2 col-sm-2 col-xs-2">
                  Flight Details
                </div>
                <div (click)="priceDetailsAllCollapsed([i]); priceDetailsCollapsed[i] = !priceDetailsCollapsed[i]"
                     [attr.aria-expanded]="!priceDetailsCollapsed"
                     class="col-md-2 col-sm-2 col-xs-2">
                  Price Details
                </div>
              </div>

              <div [ngbCollapse]="!flightDetailsCollapsed[i]" class="card mt-2" style="background: #f2f8ff;">
                <div class="col-md-12">
                  <div *ngFor="let dataflightTrans of dataflight.transData" class="row mb-3"
                       style="margin-top: 25px">
                    <div class="col-md-2 mb-3">
                      <div class="flight-section-airline-logo-wrap">
                        <img *ngIf="dataflight.transData[0].platingCarrier == 'ID'"
                             class="img-fluid img-circle airline-logo"
                             src="./assets/images/airlinelogo/{{dataflight.transData[0].platingCarrier}}.png">
                        <img *ngIf="dataflight.transData[0].platingCarrier != 'ID'"
                             class="img-fluid img-circle airline-logo"
                             src="https://s1.travix.com/global/assets/airlineLogos/{{dataflight.transData[0].platingCarrier}}.png">
                      </div>
                    </div>
                    <div class="col-md-10">
                      <div class="row">
                        <div class="col-md-6">
                          <ul class="flight-details-schedule-list">
                            <li>
                              <i class="fa fa-plane flight-details-schedule-icon"></i>
                              <p class="flight-details-schedule-date">
                                {{dataflightTrans.arrivalTime | amParseZone | amDateFormat:'MMM dd, yyyy' }}</p>
                              <div class="flight-details-schedule-time">
                                {{dataflightTrans.departureTime | amParseZone | amDateFormat:'HH:mm' }} -
                                {{dataflightTrans.arrivalTime | amParseZone | amDateFormat:'HH:mm' }}
                                ({{dataflightTrans.flightTime | minuteToHour}})
                              </div>
                              <div class="flight-details-schedule-destination">
                                <div style="float: left; max-width: 40%">
                                  <p style="font-weight: bold; margin-bottom: 0">
                                    {{dataflightTrans.origin}}
                                  </p>
                                  <p class="flight-details-schedule-destination-city">
                                    {{dataflightTrans.origin_airport_name}}</p>
                                </div>
                                <div style="float: left; margin: 0 10px">
                                  <span>→</span>
                                </div>
                                <div style="float: left; max-width: 40%">
                                  <p style="font-weight: bold; margin-bottom: 0">
                                    {{dataflightTrans.destination}}
                                  </p>
                                  <p class="flight-details-schedule-destination-city">
                                    {{dataflightTrans.destination_airport_name}}</p>
                                </div>
                              </div>
                            </li>
                          </ul>
                        </div>
                        <div class="col-md-6">
                          <ul class="flight-details-feature-list" style="font-size: 0.9rem">
                            <li>
                              <span>Airplane</span> :
                              <span
                                style="color: #8F8F8F">{{dataflightTrans.platingCarrierName}}
                                {{dataflightTrans.platingCarrier}}-{{dataflightTrans.flightNumber}}</span>
                            </li>
                            <li *ngIf="dataflightTrans.codeShareInfo.length != 0">
                              <span>Operated By</span> :
                              <span style="color: #8F8F8F;">
                                {{dataflightTrans.codeShareInfo.operatingCarrierName}}
                                {{dataflightTrans.codeShareInfo.operatingCarrier + '-' + dataflightTrans.codeShareInfo.operatingFlightNumber}}
                              </span>
                            </li>
                            <li>
                              <span>Cabin Class</span> : <span
                              style="color: #8F8F8F">{{dataflightTrans.cabinClass}}</span>
                            </li>
                            <ng-container *ngIf="dataflightTrans.baggageData?.length >= 1">
                              <li *ngFor="let baggageDatas of dataflightTrans.baggageData">
                                <ng-container *ngIf="baggageDatas.passengerCode == 'ADT'">
                                  <span>Adult Baggage</span> : <span
                                  style="color: #8F8F8F">{{baggageDatas.baggage}} {{baggageDatas.baggageUnit}}</span>
                                </ng-container>
                                <ng-container
                                  *ngIf="baggageDatas.passengerCode == 'CHD' || baggageDatas.passengerCode == 'CNN'">
                                  <span>Child Baggage</span> : <span
                                  style="color: #8F8F8F">{{baggageDatas.baggage}} {{baggageDatas.baggageUnit}}</span>
                                </ng-container>
                                <ng-container *ngIf="baggageDatas.passengerCode == 'INF'">
                                  <span>Infant Baggage</span> : <span
                                  style="color: #8F8F8F">{{baggageDatas.baggage}} {{baggageDatas.baggageUnit}}</span>
                                </ng-container>
                              </li>
                            </ng-container>
                            <ng-container *ngIf="dataflightTrans.baggageData?.length == 0">
                              <span>Baggage </span> : <span style="color: #8F8F8F">Not Include</span>
                            </ng-container>
                          </ul>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <div [ngbCollapse]="!priceDetailsCollapsed[i]">
                <div class="card mt-2" style="background: #f2f8ff;">
                  <div class="col-md-12">
                    <div class="row mb-3" style="margin-top: 25px">
                      <div class="col-md-12">
                        <div class="row">
                          <div class="col-md-4">
                            <span *ngIf="dataflight.Refundable == true">Refundable</span>
                          </div>
                          <div class="col-md-8">
                            <div>
                              <ng-container *ngIf="dataflight.numPassenger?.length > 1">
                                <div *ngFor="let dataflightTrans of dataflight.numPassenger">
                                  <ng-container *ngIf="dataflightTrans.passengerCode == 'ADT'">
                                    {{dataflightTrans.numPassenger}}X Adult Basic Price
                                    <span
                                      style="float: right; font-weight: bold">{{dataflightTrans.amount | currency:'IDR ':'symbol':'3.0'}}</span>
                                  </ng-container>
                                  <ng-container
                                    *ngIf="dataflightTrans.passengerCode == 'CHD' || dataflightTrans.passengerCode == 'CNN'">
                                    {{dataflightTrans.numPassenger}}X Child Basic Price
                                    <span
                                      style="float: right; font-weight: bold">{{dataflightTrans.amount | currency:'IDR ':'symbol':'3.0'}}</span>
                                  </ng-container>
                                  <ng-container *ngIf="dataflightTrans.passengerCode == 'INF'">
                                    {{dataflightTrans.numPassenger}}X Infant Basic Price
                                    <span
                                      style="float: right; font-weight: bold">{{dataflightTrans.amount | currency:'IDR ':'symbol':'3.0'}}</span>
                                  </ng-container>
                                </div>
                              </ng-container>

                              <ng-container *ngIf="dataflight.numPassenger?.length == undefined">
                                <div *ngIf="dataflight.numPassenger as dataflightTrans">
                                  <ng-container *ngIf="dataflightTrans.passengerCode == 'ADT'">
                                    {{dataflightTrans.numPassenger}}X Adult Basic Price
                                    <span
                                      style="float: right; font-weight: bold">{{dataflightTrans.amount | currency:'IDR ':'symbol':'3.0'}}</span>
                                  </ng-container>
                                  <ng-container
                                    *ngIf="dataflightTrans.passengerCode == 'CHD' || dataflightTrans.passengerCode == 'CNN'">
                                    {{dataflightTrans.numPassenger}}X Child Basic Price
                                    <span
                                      style="float: right; font-weight: bold">{{dataflightTrans.amount | currency:'IDR ':'symbol':'3.0'}}</span>
                                  </ng-container>
                                  <ng-container *ngIf="dataflightTrans.passengerCode == 'INF'">
                                    {{dataflightTrans.numPassenger}}X Infant Basic Price
                                    <span
                                      style="float: right; font-weight: bold">{{dataflightTrans.amount | currency:'IDR ':'symbol':'3.0'}}</span>
                                  </ng-container>
                                </div>
                              </ng-container>

                              <div>
                                Tax
                                <span
                                  style="float: right; font-weight: bold">{{dataflight.taxes | currency:'IDR ':'symbol':'3.0'}}</span>
                              </div>

                              <div style="height: 1px; background: #dedede; margin: 8px 0;"></div>

                              <div>
                                Total price
                                <span
                                  style="float: right; font-weight: bold">{{dataflight.totalPrice | currency:'IDR ':'symbol':'3.0'}}</span>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </ng-container>
      </div>
    </div>
  </ng-container>
</section>

<div *ngIf="searchFlightError" style="z-index: 999999;">
  <div class="swal2-container swal2-center swal2-backdrop-show" style="overflow-y: auto;">
    <div aria-busy="true" aria-describedby="swal2-content"
         aria-labelledby="swal2-title" aria-live="assertive" aria-modal="true"
         class="swal2-popup swal2-modal swal2-show swal2-loading"
         data-loading="true" role="dialog" style="display: flex;" tabindex="-1">
      <div class="swal2-header">
        <div class="swal2-icon swal2-error swal2-icon-show" style="display: flex;">
          <span class="swal2-x-mark">
            <span class="swal2-x-mark-line-left"></span>
            <span class="swal2-x-mark-line-right"></span>
          </span>
        </div>
      </div>
      <div class="swal2-content">
        <div class="swal2-html-container" id="swal2-content" style="display: block;">{{searchFlightErrorMessage}}
        </div>
      </div>
      <div class="swal2-actions">
        <button (click)="searchInvalidPopUPHide('redirectkehome')" aria-label="" class="swal2-confirm swal2-styled"
                style="display: inline-block; border-left-color: rgb(48, 133, 214); border-right-color: rgb(48, 133, 214);"
                type="button">Pilih penerbangan lainnya
        </button>
      </div>
    </div>
  </div>
</div>

<div *ngIf="pleaseWaitLoader" style="z-index: 999999;">
  <div class="swal2-container swal2-center swal2-backdrop-show" style="overflow-y: auto;">
    <div aria-busy="true" aria-describedby="swal2-content"
         aria-labelledby="swal2-title" aria-live="assertive" aria-modal="true"
         class="swal2-popup swal2-modal swal2-show swal2-loading"
         data-loading="true" role="dialog" style="display: flex;" tabindex="-1">
      <div class="swal2-content">
        <div class="swal2-html-container" id="swal2-content" style="display: block;">
          Please Wait..
        </div>
      </div>
    </div>
  </div>
</div>
