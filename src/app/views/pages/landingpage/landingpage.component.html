<div class="row">
<div class="col-md-12" style="padding: 5%; background: #02122c">
    <form [formGroup]="landingPageFormGroups">
        <input type="hidden" [(ngModel)]="model.flightChooseTab" formControlName="flightChooseTab">
        <input type="hidden" [(ngModel)]="model.originplace" formControlName="originplace">
        <input type="hidden" [(ngModel)]="model.destinationplace" formControlName="destinationplace">
        <div class="tabbable">
            <ul class="nav nav-pills nav-sm nav-no-br mb10" id="flightChooseTab">
                <li [ngClass]="model.flightChooseTab == 0 ? 'active' : ''" style="cursor: pointer">
                    <a (click)="flightChooseTabFunc(0)">Return</a>
                </li>
                <li [ngClass]="model.flightChooseTab == 1 ? 'active' : ''" style="cursor: pointer">
                    <a (click)="flightChooseTabFunc(1)">One Way</a>
                </li>
            </ul>
            <div class="tab-content">
                <div class="tab-pane fade in active" id="flight-search-1">
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group form-group-lg form-group-icon-left"><i
                                    class="fa fa-map-marker input-icon"></i>
                                <label>From</label>
                                <input [(ngModel)]="model.originplaceInput" formControlName="originplaceInput" class="typeahead form-control" placeholder="City, Airport" type="text" (input)="getListPlaceFrom($event.target.value)"/>
                                <div class="invalid-feedback" *ngIf="isControlHasError('originplace','required')">
                                    Original Place is required.
                                </div>
                                <span *ngIf="listPlaceFromWrite" class="tt-dropdown-menu"
                                      style="position: absolute; top: 100%; left: 0px; z-index: 100; border:unset; right: auto;">
                                    <div class="tt-dataset-1" style="border-bottom: 1px solid #ed8323; margin-top: 10px; margin-left: 10px; cursor: pointer;" *ngFor="let lpf of listPlaceFrom" (click)="clickPlaceFrom(lpf.placeid, lpf.placename)">
                                        <ul style="list-style: none; padding: 0">
                                            <li>{{lpf.placename}}</li>
                                        </ul>
                                    </div>
                                </span>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group form-group-lg form-group-icon-left"><i
                                    class="fa fa-map-marker input-icon"></i>
                                <label>To</label>
                                <input [(ngModel)]="model.destinationplaceInput" formControlName="destinationplaceInput" class="typeahead form-control" placeholder="City, Airport" type="text" (input)="getListPlaceTo($event.target.value)"/>
                                <div class="invalid-feedback" *ngIf="isControlHasError('destinationplace','required')">
                                    Destination Place is required.
                                </div>
                                <span *ngIf="listPlaceToWrite" class="tt-dropdown-menu"
                                      style="position: absolute; top: 100%; left: 0px; z-index: 100; border:unset; right: auto;">
                                    <div class="tt-dataset-1" style="border-bottom: 1px solid #ed8323; margin-top: 10px; margin-left: 10px; cursor: pointer;" *ngFor="let lpt of listPlaceTo" (click)="clickPlaceTo(lpt.placeid, lpt.placename)">
                                        <ul style="list-style: none; padding: 0">
                                            <li>{{lpt.placename}}</li>
                                        </ul>
                                    </div>
                                </span>
                            </div>
                        </div>
                    </div>
                    <div class="input-daterange" data-date-format="M d, D">
                        <div class="row">
                            <div class="col-md-3">
                                <div class="form-group form-group-lg form-group-icon-left"><i
                                        class="fa fa-calendar input-icon input-icon-highlight"></i>
                                    <label>Departing</label>
                                    <input class="form-control" type="text" [(ngModel)]="model.minDate" formControlName="outboundpartialdate" [min]="minDate" [matDatepicker]="outboundpartialdate" (click)="outboundpartialdate.open()" (focus)="outboundpartialdate.open()" maxlength="0">
                                    <mat-datepicker #outboundpartialdate></mat-datepicker>
                                    <div class="invalid-feedback" *ngIf="isControlHasError('outboundpartialdate','required')">
                                        Departing is required.
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-3" *ngIf="model.flightChooseTab == 0">
                                <div class="form-group form-group-lg form-group-icon-left"><i
                                        class="fa fa-calendar input-icon input-icon-highlight"></i>
                                    <label>Returning</label>
                                        <input class="form-control" type="text" [(ngModel)]="model.defaultDatePlusSevenDay" formControlName="inboundpartialdate" [min]="minDate" [matDatepicker]="inboundpartialdate" (click)="inboundpartialdate.open()" (focus)="inboundpartialdate.open()" maxlength="0">
                                        <mat-datepicker #inboundpartialdate></mat-datepicker>
                                        <div class="invalid-feedback" *ngIf="isControlHasError('inboundpartialdate','required')">
                                            Returning is required.
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <button class="btn btn-primary btn-lg" type="submit" [disabled]="loading" [ngClass]="{'kt-spinner kt-spinner--right kt-spinner--md kt-spinner--light': loading}" (click)="onSubmit()">Search for Flights</button>
        </form>
    </div>

    <div class="col-md-12" style="padding: 2%;">
        <div class="col-md-12">
            <ul class="booking-list">
                <li *ngFor="let bdq of browseDatesQuotes">
                    <div class="booking-item-container">
                        <div class="booking-item">
                            <div class="row">
                                <div class="col-md-2">
                                    <div class="booking-item-airline-logo" *ngIf="bdq.OutboundLeg as bdqo">
                                        <div *ngIf="bdqo.CarrierIds">
                                            <div *ngFor="let bdc of browseDatesCarriers">
                                                <div *ngIf="bdqo.CarrierIds == bdc.CarrierId">
                                                    <p>{{bdc.Name}}</p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="booking-item-flight-details">
                                        <div class="booking-item-departure">
                                            <div *ngIf="bdq.OutboundLeg as bdqo">
                                                <i class="fa fa-plane"></i>
                                                <h5>{{bdqo.DepartureDate | date:'EEEE, MMMM dd'}}</h5>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-2">
                                    <div *ngIf="bdq.OutboundLeg as bdqo">
                                        <div *ngIf="bdqo.OriginId">
                                            <div *ngFor="let bdp of browseDatesPlaces">
                                                <div *ngIf="bdqo.OriginId == bdp.PlaceId">
                                                    From : {{bdp.Name}}, {{bdp.SkyscannerCode}}
                                                </div>
                                                <ul *ngIf="bdqo.OriginId == bdp.PlaceId" style="" class="LegInfo_stopLine__3_s15"></ul>
                                                <div *ngIf="bdqo.DestinationId == bdp.PlaceId">
                                                    To : {{bdp.Name}}, {{bdp.SkyscannerCode}}
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <span class="booking-item-price">{{bdq.MinPrice | currency:'IDR':'Rp ':'3.0':'id'}},00</span><span>/person</span>
                                </div>
                                <div class="col-md-2">
                                    <h5>Direct: {{bdq.Direct}}</h5>
                                </div>
                            </div>
                        </div>
                    </div>
                </li>
            </ul>
        </div>
    </div>
</div>