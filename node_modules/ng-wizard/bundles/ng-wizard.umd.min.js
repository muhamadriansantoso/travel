!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("rxjs"),require("@angular/common")):"function"==typeof define&&define.amd?define("ng-wizard",["exports","@angular/core","rxjs","@angular/common"],e):e((t=t||self)["ng-wizard"]={},t.ng.core,t.rxjs,t.ng.common)}(this,function(t,e,n,o){"use strict";var s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var i=function(){return(i=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var s in e=arguments[n])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t}).apply(this,arguments)};var r={none:"none",top:"top",bottom:"bottom",both:"both"},a={start:"start",end:"end"},c={"default":"default",arrows:"arrows",circles:"circles",dots:"dots"},h={normal:"normal",disabled:"disabled",error:"error",hidden:"hidden"},u="untouched",l="done",p="active",d={selected:0,keyNavigation:!0,cycleSteps:!1,lang:{next:"Next",previous:"Previous"},toolbarSettings:{toolbarPosition:r.bottom,toolbarButtonPosition:a.end,showNextButton:!0,showPreviousButton:!0,toolbarExtraButtons:[]},anchorSettings:{anchorClickable:!0,enableAllAnchors:!1,markDoneStep:!0,markAllPreviousStepsAsDone:!0,removeDoneStepOnNavigateBack:!1,enableAnchorOnDoneStep:!0},theme:c["default"]},g=new e.InjectionToken("ngWizardCustom.config");function f(t,e){var n,o;try{for(var s=function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}(Object.keys(e)),i=s.next();!i.done;i=s.next()){var r=i.value;e[r]instanceof Object&&r in t&&Object.assign(e[r],f(t[r],e[r]))}}catch(a){n={error:a}}finally{try{i&&!i.done&&(o=s["return"])&&o.call(s)}finally{if(n)throw n.error}}return Object.assign(t||{},e),t}var b=function(){function t(t){this.config=t,this.defaultConfig=i({},d),this.config&&(this.defaultConfig=f(this.defaultConfig,this.config)),this.resetWizard=new n.Subject,this.showNextStep=new n.Subject,this.showPreviousStep=new n.Subject,this.setTheme=new n.Subject,this.resetWizard$=this.resetWizard.asObservable(),this.showNextStep$=this.showNextStep.asObservable(),this.showPreviousStep$=this.showPreviousStep.asObservable(),this.setTheme$=this.setTheme.asObservable()}return t.prototype.getDefaultConfig=function(){return i({},this.defaultConfig)},t.prototype.reset=function(){this.resetWizard.next()},t.prototype.next=function(){this.showNextStep.next()},t.prototype.previous=function(){this.showPreviousStep.next()},t.prototype.theme=function(t){this.setTheme.next(t)},t.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[{type:undefined,decorators:[{type:e.Optional},{type:e.Inject,args:[g]}]}]},t.ngInjectableDef=e.ɵɵdefineInjectable({factory:function(){return new t(e.ɵɵinject(g,8))},token:t,providedIn:"root"}),t}(),v=function(){function t(){}return Object.defineProperty(t.prototype,"hidden",{get:function(){return this.status!=p},enumerable:!0,configurable:!0}),t.propDecorators={title:[{type:e.Input}],description:[{type:e.Input}],state:[{type:e.Input}],hidden:[{type:e.HostBinding,args:["hidden"]}]},t}(),y=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return function(t,e){function n(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(n,t),n.decorators=[{type:e.Component,args:[{selector:"ng-wizard-step",template:'<div class="tab-pane step-content" style="display: block">\n    <ng-content></ng-content>\n</div>',providers:[{provide:v,useExisting:e.forwardRef(function(){return n})}],styles:[""]}]}],n}(v),S=function(){function t(t){this.ngService=t,this.stepChanged=new e.EventEmitter,this.themeChanged=new e.EventEmitter,this.reseted=new e.EventEmitter,this.styles={},this.showToolbarTop=!1,this.showPreviousButton=!1,this.showNextButton=!1,this.showToolbarBottom=!1,this.showExtraButtons=!1,this.current_index=null}return Object.defineProperty(t.prototype,"pConfig",{get:function(){return this._pConfig||{}},set:function(t){this._pConfig=t},enumerable:!0,configurable:!0}),t.prototype.ngAfterContentInit=function(){var t=this;this._backupStepStates(),this._init(),this._setToolbar(),this._setEvents(),this.resetWizardWatcher=this.ngService.resetWizard$.subscribe(function(){t._reset()}),this.showNextStepWatcher=this.ngService.showNextStep$.subscribe(function(){t._showNextStep()}),this.showPreviousStepWatcher=this.ngService.showPreviousStep$.subscribe(function(){t._showPreviousStep()}),this.setThemeWatcher=this.ngService.setTheme$.subscribe(function(e){t._setTheme(e)})},t.prototype._init=function(){var t=this.ngService.getDefaultConfig();this.config=f(t,this.pConfig),this._initSteps(),this._initStyles(),this._showStep(this.config.selected)},t.prototype._initSteps=function(){var t=this;this.steps.forEach(function(t,e){t.index=e,t.status=t.status||u,t.state=t.state||h.normal}),this.config.selected>0&&this.config.anchorSettings.markDoneStep&&this.config.anchorSettings.markAllPreviousStepsAsDone&&this.steps.forEach(function(e){e.state!=h.disabled&&e.state!=h.hidden&&(e.status=e.index<t.config.selected?l:e.status)})},t.prototype._backupStepStates=function(){this.steps.forEach(function(t){t.initialStatus=t.status,t.initialState=t.state})},t.prototype._restoreStepStates=function(){this.steps.forEach(function(t){t.status=t.initialStatus,t.state=t.initialState})},t.prototype._initStyles=function(){this.styles.main="ng-wizard-main ng-wizard-theme-"+this.config.theme,this.styles.step="nav-item",this.config.anchorSettings.enableAllAnchors&&this.config.anchorSettings.anchorClickable&&(this.styles.step+=" clickable"),this.styles.toolbarTop="btn-toolbar ng-wizard-toolbar ng-wizard-toolbar-top justify-content-"+this.config.toolbarSettings.toolbarButtonPosition,this.styles.toolbarBottom="btn-toolbar ng-wizard-toolbar ng-wizard-toolbar-bottom justify-content-"+this.config.toolbarSettings.toolbarButtonPosition,this.styles.previousButton="btn btn-secondary ng-wizard-btn-prev",this.styles.nextButton="btn btn-secondary ng-wizard-btn-next"},t.prototype._setToolbar=function(){this.showToolbarTop=this.config.toolbarSettings.toolbarPosition==r.top||this.config.toolbarSettings.toolbarPosition==r.both,this.showToolbarBottom=this.config.toolbarSettings.toolbarPosition==r.bottom||this.config.toolbarSettings.toolbarPosition==r.both,this.showPreviousButton=this.config.toolbarSettings.showPreviousButton,this.showNextButton=this.config.toolbarSettings.showNextButton,this.showExtraButtons=this.config.toolbarSettings.toolbarExtraButtons&&this.config.toolbarSettings.toolbarExtraButtons.length>0},t.prototype._setEvents=function(){this.config.keyNavigation},t.prototype._getStepCssClass=function(t){var e=this.styles.step;switch(t.state){case h.disabled:e+=" disabled";break;case h.error:e+=" danger";break;case h.hidden:e+=" hidden"}switch(t.status){case l:e+=" done";break;case p:e+=" active"}return e},t.prototype._showSelectedStep=function(t,e){if(t.preventDefault(),this.config.anchorSettings.anchorClickable)return!this.config.anchorSettings.enableAnchorOnDoneStep&&e.status==l||void(e.index!=this.current_index&&(this.config.anchorSettings.enableAllAnchors&&this.config.anchorSettings.anchorClickable?this._showStep(e.index):e.status==l&&this._showStep(e.index)))},t.prototype._showNextStep=function(t){var e=this;t&&t.preventDefault();var n=this.steps.filter(function(t){return t.index>(null==e.current_index?-1:e.current_index)&&t.state!=h.disabled&&t.state!=h.hidden});if(0==n.length){if(!this.config.cycleSteps)return;this._showStep(0)}else this._showStep(n.shift().index)},t.prototype._showPreviousStep=function(t){var e=this;t&&t.preventDefault();var n=this.steps.filter(function(t){return t.index<(null==e.current_index&&e.config.cycleSteps?e.steps.length:e.current_index)&&t.state!=h.disabled&&t.state!=h.hidden});if(0==n.length){if(!this.config.cycleSteps)return;this._showStep(this.steps.length-1)}else this._showStep(n.pop().index)},t.prototype._showStep=function(t){if(!(t>=this.steps.length||t<0)&&t!=this.current_index){var e=this.steps.toArray()[t];e.state!=h.disabled&&e.state!=h.hidden&&this._loadStepContent(e)}},t.prototype._loadStepContent=function(t){var e=null!=this.current_index&&this.current_index!=t.index?this.current_index<t.index?"forward":"backward":"",n=0==t.index?"first":t.index==this.steps.length-1?"final":"middle";this._setAnchor(t),this._setButtons(t.index),this.stepChanged.emit({step:t,previousStep:this.currentStep,direction:e,position:n}),this.current_index=t.index,this.currentStep=t},t.prototype._setAnchor=function(t){this.currentStep&&(this.currentStep.status=u,this.config.anchorSettings.markDoneStep&&(this.currentStep.status=l,this.config.anchorSettings.removeDoneStepOnNavigateBack&&this.steps.forEach(function(e){e.index>t.index&&(e.status=u)}))),t.status=p},t.prototype._setButtons=function(t){this.config.cycleSteps||(this.styles.previousButton=0>=t?"btn btn-secondary ng-wizard-btn-prev disabled":"btn btn-secondary ng-wizard-btn-prev",this.steps.length-1<=t?this.styles.nextButton="btn btn-secondary ng-wizard-btn-next disabled":this.styles.nextButton="btn btn-secondary ng-wizard-btn-next")},t.prototype._extraButtonClicked=function(t){t.event&&t.event()},t.prototype._keyNav=function(t){switch(t.which){case 37:this._showPreviousStep(t),t.preventDefault();break;case 39:this._showNextStep(t),t.preventDefault();break;default:return}},t.prototype._setTheme=function(t){if(this.config.theme==t)return!1;this.config.theme=t,this.styles.main="ng-wizard-main ng-wizard-theme-"+this.config.theme,this.themeChanged.emit(this.config.theme)},t.prototype._reset=function(){this.current_index=null,this.currentStep=null,this._restoreStepStates(),this._init(),this.reseted.emit()},t.prototype.ngOnDestroy=function(){this.resetWizardWatcher&&this.resetWizardWatcher.unsubscribe(),this.showNextStepWatcher&&this.showNextStepWatcher.unsubscribe(),this.showPreviousStepWatcher&&this.showPreviousStepWatcher.unsubscribe(),this.setThemeWatcher&&this.setThemeWatcher.unsubscribe()},t.decorators=[{type:e.Component,args:[{selector:"ng-wizard",template:'<div id="ngwizard" [ngClass]="styles.main">\n    <ul class="nav nav-tabs step-anchor">\n        <li *ngFor="let step of steps; let i = index" [ngClass]="_getStepCssClass(step)">\n            <a href="#step-{{ i }}" (click)="_showSelectedStep($event, step)"\n                class="nav-link">{{ step.title }}<br /><small>{{ step.description }}</small></a>\n        </li>\n    </ul>\n\n    <div *ngIf="showToolbarTop" [ngClass]="styles.toolbarTop">\n        <div class="btn-group mr-2 ng-wizard-btn-group" role="group">\n            <button *ngIf="showPreviousButton" [ngClass]="styles.previousButton" type="button"\n                (click)="_showPreviousStep($event)">{{ config.lang.previous }}</button>\n            <button *ngIf="showNextButton" [ngClass]="styles.nextButton" type="button"\n                (click)="_showNextStep($event)">{{ config.lang.next }}</button>\n        </div>\n\n        <div *ngIf="showExtraButtons" class="btn-group mr-2 ng-wizard-btn-group-extra" role="group">\n            <button *ngFor="let button of config.toolbarSettings.toolbarExtraButtons; let j = index"\n                [ngClass]="button.class" type="button" (click)="_extraButtonClicked(button)">{{ button.text }}</button>\n        </div>\n    </div>\n\n    <div class="ng-wizard-container tab-content">\n        <ng-content></ng-content>\n    </div>\n\n    <div *ngIf="showToolbarBottom" [ngClass]="styles.toolbarBottom">\n        <div class="btn-group mr-2 ng-wizard-btn-group" role="group">\n            <button *ngIf="showPreviousButton" [ngClass]="styles.previousButton" type="button"\n                (click)="_showPreviousStep($event)">{{ config.lang.previous }}</button>\n            <button *ngIf="showNextButton" [ngClass]="styles.nextButton" type="button"\n                (click)="_showNextStep($event)">{{ config.lang.next }}</button>\n        </div>\n\n        <div *ngIf="showExtraButtons" class="btn-group mr-2 ng-wizard-btn-group-extra" role="group">\n            <button *ngFor="let button of config.toolbarSettings.toolbarExtraButtons; let j = index"\n                [ngClass]="button.class" type="button" (click)="_extraButtonClicked(button)">{{ button.text }}</button>\n        </div>\n    </div>\n</div>',styles:[""]}]}],t.ctorParameters=function(){return[{type:b}]},t.propDecorators={steps:[{type:e.ContentChildren,args:[v]}],pConfig:[{type:e.Input,args:["config"]}],stepChanged:[{type:e.Output}],themeChanged:[{type:e.Output}],reseted:[{type:e.Output}]},t}(),w=function(){function t(){}return t.forRoot=function(e){return{ngModule:t,providers:[{provide:g,useValue:e}]}},t.decorators=[{type:e.NgModule,args:[{imports:[o.CommonModule],declarations:[S,y],exports:[S,y]}]}],t}();t.NgWizardModule=w,t.NgWizardService=b,t.STEP_STATE=h,t.THEME=c,t.TOOLBAR_BUTTON_POSITION=a,t.TOOLBAR_POSITION=r,t.ɵa=v,t.ɵb=g,t.ɵc=S,t.ɵd=y,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ng-wizard.umd.min.js.map